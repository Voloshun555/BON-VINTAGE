import{j as e,C as P,a as S,i as j,k as T,l as E,n as R,r as v,o as q,p as O,q as Q,t as W}from"./index-dnE5AaiO.js";const z="_containerCard_7n4hw_1",G="_containerImg_7n4hw_13",J="_catalogImg_7n4hw_16",K="_buttonHeart_7n4hw_21",U="_iconHeart_7n4hw_26",X="_item_7n4hw_31",Y="_itemTitle_7n4hw_38",Z="_itemPrice_7n4hw_42",ee="_itemList_7n4hw_46",te="_btnBascket_7n4hw_51",x={containerCard:z,containerImg:G,catalogImg:J,buttonHeart:K,iconHeart:U,item:X,itemTitle:Y,itemPrice:Z,itemList:ee,btnBascket:te},se="_buttonHeartActive_182pk_1",ne="_iconHeart_182pk_5",w={buttonHeartActive:se,iconHeart:ne},M=({isFavorite:c,onClick:t,buttonHeart:n,iconHeart:_})=>e.jsx("button",{className:`${n} `,onClick:t,"aria-label":c?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{className:`${_} ${w.iconHeart} ${c?w.buttonHeartActive:""}`})}),ae=({image:c,price:t,title:n,description:_,id:o,addFavoriteList:i,removeFavoriteList:m,isFavorite:a,onClick:u})=>{const r=()=>{a?m(o):i(o)};return e.jsxs("li",{className:x.containerCard,children:[e.jsxs("div",{className:x.containerImg,children:[e.jsx("img",{className:x.catalogImg,src:c,alt:n||"Зображення продукту",onClick:u}),e.jsx(M,{buttonHeart:`${x.buttonHeart}`,iconHeart:x.iconHeart,isFavorite:a,onClick:r})]}),e.jsxs("div",{className:x.item,children:[e.jsx("h3",{className:x.itemTitle,children:_}),e.jsxs("p",{className:x.itemPrice,children:["Ціна: ",t]})]}),e.jsx("button",{className:x.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},D=()=>{const c=S(),t=j(T);return{addFavoriteList:i=>{c(E(i))},removeFavoriteList:i=>{c(R(i))},isFavorite:i=>t.includes(i)}},oe="_modal_1uxah_1",ie="_closeButton_1uxah_1",ce="_wrapInfo_1uxah_8",re="_imageContainer_1uxah_18",le="_mainImage_1uxah_33",de="_buttonHeart_1uxah_39",_e="_iconHeart_1uxah_44",me="_gallery_1uxah_49",ue="_galleryItem_1uxah_66",he="_galleryImage_1uxah_72",xe="_videoContainer_1uxah_78",ve="_galleryVideo_1uxah_85",ge="_playButton_1uxah_91",je="_containerDescription_1uxah_107",pe="_titleDes_1uxah_110",Ce="_productDetails_1uxah_113",ye="_productInfo_1uxah_119",Ne="_addBasket_1uxah_124",Ie="_priceInfo_1uxah_132",be="_videoModal_1uxah_137",ke="_videoModalContent_1uxah_149",fe="_modalVideo_1uxah_154",He="_closeVideoButton_1uxah_159",s={modal:oe,closeButton:ie,wrapInfo:ce,imageContainer:re,mainImage:le,buttonHeart:de,iconHeart:_e,gallery:me,galleryItem:ue,galleryImage:he,videoContainer:xe,galleryVideo:ve,playButton:ge,containerDescription:je,titleDes:pe,productDetails:Ce,productInfo:ye,addBasket:Ne,priceInfo:Ie,videoModal:be,videoModalContent:ke,modalVideo:fe,closeVideoButton:He},Fe=({onClose:c,data:t})=>{const[n,_]=v.useState(t.mainImage),[o,i]=v.useState(null),m=()=>i(null),{isFavorite:a,addFavoriteList:u,removeFavoriteList:r}=D(),l=()=>{a(t.id)?r(t.id):u(t.id)};return e.jsxs("div",{className:s.modal,children:[e.jsx("button",{className:s.closeButton,onClick:c,children:"Вернутись назад"}),e.jsxs("div",{className:s.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:s.imageContainer,children:[e.jsx("img",{className:s.mainImage,src:n,alt:"Головне зображення"}),e.jsx(M,{buttonHeart:`${s.buttonHeart}`,iconHeart:s.iconHeart,isFavorite:a(t.id),onClick:l}),e.jsx("ul",{className:s.gallery,children:t.gallery.map((d,g)=>e.jsx("li",{className:s.galleryItem,children:d.type==="image"?e.jsx("img",{className:s.galleryImage,src:d.url,alt:d.description||`Зображення ${g+1}`,onClick:()=>_(d.url)}):d.type==="video"?e.jsxs("div",{className:s.videoContainer,children:[e.jsxs("video",{className:s.galleryVideo,controls:!1,children:[e.jsx("source",{src:d.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:s.playButton,onClick:()=>i(d.url),children:"▶ Play"})]}):null},g))})]}),e.jsx("button",{className:s.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:s.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[t.price,": грн"]})]})]}),e.jsxs("div",{className:s.containerDescription,children:[e.jsxs("h1",{className:s.titleDes,children:[t.title," ",e.jsx("span",{children:t.country})]}),e.jsxs("ul",{className:s.productDetails,children:[e.jsxs("li",{children:[t.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:s.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),o&&e.jsx("div",{className:s.videoModal,onClick:m,children:e.jsxs("div",{className:s.videoModalContent,onClick:d=>d.stopPropagation(),children:[e.jsxs("video",{className:s.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:o,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:s.closeVideoButton,onClick:m,children:"✖"})]})})]})},we="_container_14yjm_1",Be="_pagination_14yjm_6",Me="_paginationItem_14yjm_10",De="_paginationLink_14yjm_25",Le="_isActive_14yjm_28",$e="_prevContainer_14yjm_31",Ae="_prev_14yjm_31",Ve="_next_14yjm_35",h={container:we,pagination:Be,paginationItem:Me,paginationLink:De,isActive:Le,prevContainer:$e,prev:Ae,next:Ve},Pe=({totalCards:c,cardsPerPage:t,currentPage:n,setCurrentPage:_})=>{const o=Math.ceil(c/t),i=12;let m=Math.max(1,n-Math.floor(i/2)),a=m+i-1;a>o&&(a=o,m=Math.max(1,a-i+1));const u=Array.from({length:a-m+1},(l,d)=>m+d),r=l=>{l>=1&&l<=o&&_(l)};return e.jsxs("section",{className:h.container,children:[e.jsx("button",{className:h.prev,disabled:n===1,onClick:()=>r(n-1),children:"<--"}),m>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:n===1,onClick:()=>r(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>r(m-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:u.map(l=>e.jsx("li",{className:`${h.paginationItem} ${n===l?h.isActive:""}`,onClick:()=>r(l),children:e.jsx("a",{href:"#",className:h.paginationLink,children:l})},l))}),a<o&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>r(a+1),children:"..."}),e.jsx("button",{className:h.next,disabled:n===o,onClick:()=>r(o),children:o})]}),e.jsx("button",{className:h.next,disabled:n===o,onClick:()=>r(n+1),children:"-->"})]})},Se=c=>{const t=j(q),n=j(O),_=j(Q),o=j(W),i=v.useMemo(()=>Array.isArray(c)?c.filter(({title:a,description:u,country:r,category:l,material:d})=>{const g=t.toLowerCase();return[a,u,r,l,d].some(p=>p.toLowerCase().includes(g))&&(!_||l===_)&&(!n||d===n)}):[],[c,t,_,n]);return v.useMemo(()=>i.length?[...i].sort((a,u)=>{switch(o){case"newest":return new Date(u.createdAt)-new Date(a.createdAt);case"highPrice":return u.price-a.price;case"lowPrice":return a.price-u.price;default:return 0}}):[],[i,o])},Te="_containerCards_19p8f_1",Ee="_container_19p8f_1",B={containerCards:Te,container:Ee},qe=({data:c,isLoading:t,isError:n})=>{const[_,o]=v.useState(!1),[i,m]=v.useState(null),[a,u]=v.useState(1),[r]=v.useState(12),{isFavorite:l,addFavoriteList:d,removeFavoriteList:g}=D(),p=(C=null)=>{o(!_),m(C)},N=Se(c),I=a*r,L=I-r,b=N.slice(L,I);return e.jsx("div",{className:B.container,children:_?e.jsx(Fe,{onClose:p,data:i}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:B.containerCards,children:[t&&e.jsx("div",{children:"...Loading"}),n&&e.jsx("div",{children:"...Error"}),!t&&!n&&b.map(({mainImage:C,country:k,id:y,price:f,title:H,description:F,gallery:$,category:A,material:V})=>e.jsx(ae,{id:y,image:C,country:k,price:f,title:H,description:F,addFavoriteList:d,removeFavoriteList:g,isFavorite:l(y),onClick:()=>p({mainImage:C,country:k,id:y,price:f,title:H,description:F,gallery:$,category:A,material:V})},y))]}),b.length>0?e.jsx(Pe,{totalCards:N.length,cardsPerPage:r,currentPage:a,setCurrentPage:u}):null]})})};export{qe as C};
