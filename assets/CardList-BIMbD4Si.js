import{j as e,C as P,a as S,i as g,k as T,l as E,r as v}from"./index-BOsJOPc-.js";const Q="_containerCard_7n4hw_1",R="_containerImg_7n4hw_13",O="_catalogImg_7n4hw_16",W="_buttonHeart_7n4hw_21",q="_iconHeart_7n4hw_26",z="_item_7n4hw_31",G="_itemTitle_7n4hw_38",J="_itemPrice_7n4hw_42",K="_itemList_7n4hw_46",U="_btnBascket_7n4hw_51",x={containerCard:Q,containerImg:R,catalogImg:O,buttonHeart:W,iconHeart:q,item:z,itemTitle:G,itemPrice:J,itemList:K,btnBascket:U},X="_buttonHeartActive_182pk_1",Y="_iconHeart_182pk_5",w={buttonHeartActive:X,iconHeart:Y},M=({isFavorite:t,onClick:s,buttonHeart:a,iconHeart:_})=>e.jsx("button",{className:`${a} `,onClick:s,"aria-label":t?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{className:`${_} ${w.iconHeart} ${t?w.buttonHeartActive:""}`})}),Z=({image:t,price:s,title:a,description:_,id:c,addFavoriteList:o,removeFavoriteList:m,isFavorite:i,onClick:u})=>{const r=()=>{i?m(c):o(c)};return e.jsxs("li",{className:x.containerCard,children:[e.jsxs("div",{className:x.containerImg,children:[e.jsx("img",{className:x.catalogImg,src:t,alt:a||"Зображення продукту",onClick:u}),e.jsx(M,{buttonHeart:`${x.buttonHeart}`,iconHeart:x.iconHeart,isFavorite:i,onClick:r})]}),e.jsxs("div",{className:x.item,children:[e.jsx("h3",{className:x.itemTitle,children:_}),e.jsxs("p",{className:x.itemPrice,children:["Ціна: ",s]})]}),e.jsx("button",{className:x.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},D=()=>{const t=S(),s=g(o=>o.favorite.favoriteList);return{addFavoriteList:o=>{t(T(o))},removeFavoriteList:o=>{t(E(o))},isFavorite:o=>s.includes(o)}},ee="_modal_1uxah_1",te="_closeButton_1uxah_1",se="_wrapInfo_1uxah_8",ne="_imageContainer_1uxah_18",ae="_mainImage_1uxah_33",oe="_buttonHeart_1uxah_39",ie="_iconHeart_1uxah_44",ce="_gallery_1uxah_49",re="_galleryItem_1uxah_66",le="_galleryImage_1uxah_72",de="_videoContainer_1uxah_78",_e="_galleryVideo_1uxah_85",me="_playButton_1uxah_91",ue="_containerDescription_1uxah_107",he="_titleDes_1uxah_110",xe="_productDetails_1uxah_113",ve="_productInfo_1uxah_119",pe="_addBasket_1uxah_124",ge="_priceInfo_1uxah_132",je="_videoModal_1uxah_137",Ce="_videoModalContent_1uxah_149",ye="_modalVideo_1uxah_154",Ne="_closeVideoButton_1uxah_159",n={modal:ee,closeButton:te,wrapInfo:se,imageContainer:ne,mainImage:ae,buttonHeart:oe,iconHeart:ie,gallery:ce,galleryItem:re,galleryImage:le,videoContainer:de,galleryVideo:_e,playButton:me,containerDescription:ue,titleDes:he,productDetails:xe,productInfo:ve,addBasket:pe,priceInfo:ge,videoModal:je,videoModalContent:Ce,modalVideo:ye,closeVideoButton:Ne},Ie=({onClose:t,data:s})=>{const[a,_]=v.useState(s.mainImage),[c,o]=v.useState(null),m=()=>o(null),{isFavorite:i,addFavoriteList:u,removeFavoriteList:r}=D(),l=()=>{i(s.id)?r(s.id):u(s.id)};return e.jsxs("div",{className:n.modal,children:[e.jsx("button",{className:n.closeButton,onClick:t,children:"Вернутись назад"}),e.jsxs("div",{className:n.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:n.imageContainer,children:[e.jsx("img",{className:n.mainImage,src:a,alt:"Головне зображення"}),e.jsx(M,{buttonHeart:`${n.buttonHeart}`,iconHeart:n.iconHeart,isFavorite:i(s.id),onClick:l}),e.jsx("ul",{className:n.gallery,children:s.gallery.map((d,p)=>e.jsx("li",{className:n.galleryItem,children:d.type==="image"?e.jsx("img",{className:n.galleryImage,src:d.url,alt:d.description||`Зображення ${p+1}`,onClick:()=>_(d.url)}):d.type==="video"?e.jsxs("div",{className:n.videoContainer,children:[e.jsxs("video",{className:n.galleryVideo,controls:!1,children:[e.jsx("source",{src:d.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.playButton,onClick:()=>o(d.url),children:"▶ Play"})]}):null},p))})]}),e.jsx("button",{className:n.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:n.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[s.price,": грн"]})]})]}),e.jsxs("div",{className:n.containerDescription,children:[e.jsxs("h1",{className:n.titleDes,children:[s.title," ",e.jsx("span",{children:s.country})]}),e.jsxs("ul",{className:n.productDetails,children:[e.jsxs("li",{children:[s.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:n.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),c&&e.jsx("div",{className:n.videoModal,onClick:m,children:e.jsxs("div",{className:n.videoModalContent,onClick:d=>d.stopPropagation(),children:[e.jsxs("video",{className:n.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:c,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.closeVideoButton,onClick:m,children:"✖"})]})})]})},be="_container_14yjm_1",fe="_pagination_14yjm_6",ke="_paginationItem_14yjm_10",He="_paginationLink_14yjm_25",Fe="_isActive_14yjm_28",we="_prevContainer_14yjm_31",Be="_prev_14yjm_31",Me="_next_14yjm_35",h={container:be,pagination:fe,paginationItem:ke,paginationLink:He,isActive:Fe,prevContainer:we,prev:Be,next:Me},De=({totalCards:t,cardsPerPage:s,currentPage:a,setCurrentPage:_})=>{const c=Math.ceil(t/s),o=12;let m=Math.max(1,a-Math.floor(o/2)),i=m+o-1;i>c&&(i=c,m=Math.max(1,i-o+1));const u=Array.from({length:i-m+1},(l,d)=>m+d),r=l=>{l>=1&&l<=c&&_(l)};return e.jsxs("section",{className:h.container,children:[e.jsx("button",{className:h.prev,disabled:a===1,onClick:()=>r(a-1),children:"<--"}),m>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:a===1,onClick:()=>r(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>r(m-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:u.map(l=>e.jsx("li",{className:`${h.paginationItem} ${a===l?h.isActive:""}`,onClick:()=>r(l),children:e.jsx("a",{href:"#",className:h.paginationLink,children:l})},l))}),i<c&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>r(i+1),children:"..."}),e.jsx("button",{className:h.next,disabled:a===c,onClick:()=>r(c),children:c})]}),e.jsx("button",{className:h.next,disabled:a===c,onClick:()=>r(a+1),children:"-->"})]})},Le=t=>t.options.selectedFilter,$e=t=>t.options.selectedCategory,Ae=t=>t.options.sortType,Ve=t=>t.filter.searchQuery,Pe=t=>{const s=g(Ve),a=g(Le),_=g($e),c=g(Ae),o=v.useMemo(()=>Array.isArray(t)?t.filter(({title:i,description:u,country:r,category:l,material:d})=>{const p=s.toLowerCase();return[i,u,r,l,d].some(j=>j.toLowerCase().includes(p))&&(!_||l===_)&&(!a||d===a)}):[],[t,s,_,a]);return v.useMemo(()=>o.length?[...o].sort((i,u)=>{switch(c){case"newest":return new Date(u.createdAt)-new Date(i.createdAt);case"highPrice":return u.price-i.price;case"lowPrice":return i.price-u.price;default:return 0}}):[],[o,c])},Se="_containerCards_19p8f_1",Te="_container_19p8f_1",B={containerCards:Se,container:Te},Qe=({data:t,isLoading:s,isError:a})=>{const[_,c]=v.useState(!1),[o,m]=v.useState(null),[i,u]=v.useState(1),[r]=v.useState(12),{isFavorite:l,addFavoriteList:d,removeFavoriteList:p}=D(),j=(C=null)=>{c(!_),m(C)},N=Pe(t),I=i*r,L=I-r,b=N.slice(L,I);return e.jsx("div",{className:B.container,children:_?e.jsx(Ie,{onClose:j,data:o}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:B.containerCards,children:[s&&e.jsx("div",{children:"...Loading"}),a&&e.jsx("div",{children:"...Error"}),!s&&!a&&b.map(({mainImage:C,country:f,id:y,price:k,title:H,description:F,gallery:$,category:A,material:V})=>e.jsx(Z,{id:y,image:C,country:f,price:k,title:H,description:F,addFavoriteList:d,removeFavoriteList:p,isFavorite:l(y),onClick:()=>j({mainImage:C,country:f,id:y,price:k,title:H,description:F,gallery:$,category:A,material:V})},y))]}),b.length>0?e.jsx(De,{totalCards:N.length,cardsPerPage:r,currentPage:i,setCurrentPage:u}):null]})})};export{Qe as C};
