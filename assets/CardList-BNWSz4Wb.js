import{j as e,C as S,c as B,a as v,p as T,q as E,t as Q,r as p,o as R,v as W,w as q,x as O,y as z,g as G,e as J}from"./index-DVczm4Lj.js";const K="_containerCard_1868h_1",U="_containerImg_1868h_18",X="_catalogImg_1868h_21",Y="_buttonHeart_1868h_26",Z="_iconHeart_1868h_31",ee="_item_1868h_36",te="_itemTitle_1868h_43",se="_itemPrice_1868h_47",ne="_itemList_1868h_51",ae="_btnBascket_1868h_56",x={containerCard:K,containerImg:U,catalogImg:X,buttonHeart:Y,iconHeart:Z,item:ee,itemTitle:te,itemPrice:se,itemList:ne,btnBascket:ae},oe="_buttonHeartActive_182pk_1",ie="_iconHeart_182pk_5",F={buttonHeartActive:oe,iconHeart:ie},D=({isFavorite:r,onClick:t,buttonHeart:c,iconHeart:d})=>e.jsx("button",{className:`${c} `,onClick:t,"aria-label":r?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(S,{className:`${d} ${F.iconHeart} ${r?F.buttonHeartActive:""}`})}),ce=({image:r,price:t,title:c,description:d,id:l,addFavoriteList:s,removeFavoriteList:m,isFavorite:_,onClick:n})=>{const o=()=>{_?m(l):s(l)};return e.jsxs("li",{className:x.containerCard,children:[e.jsxs("div",{className:x.containerImg,children:[e.jsx("img",{className:x.catalogImg,src:r,alt:c||"Зображення продукту",onClick:n}),e.jsx(D,{buttonHeart:`${x.buttonHeart}`,iconHeart:x.iconHeart,isFavorite:_,onClick:o})]}),e.jsxs("div",{className:x.item,children:[e.jsx("h3",{className:x.itemTitle,children:d}),e.jsxs("p",{className:x.itemPrice,children:["Ціна: ",t]})]}),e.jsx("button",{className:x.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},L=()=>{const r=B(),t=v(T);return{addFavoriteList:s=>{r(E(s))},removeFavoriteList:s=>{r(Q(s))},isFavorite:s=>t.includes(s)}},re="_modal_f2w0w_2",le="_closeButton_f2w0w_7",de="_wrapInfo_f2w0w_14",_e="_imageContainer_f2w0w_24",me="_mainImage_f2w0w_39",ue="_buttonHeart_f2w0w_50",he="_iconHeart_f2w0w_61",ge="_gallery_f2w0w_66",xe="_galleryItem_f2w0w_89",pe="_galleryImage_f2w0w_101",ve="_videoContainer_f2w0w_107",je="_galleryVideo_f2w0w_120",Ce="_playButton_f2w0w_126",fe="_containerDescription_f2w0w_142",we="_titleDes_f2w0w_150",ye="_productDetails_f2w0w_153",Ne="_productInfo_f2w0w_159",Ie="_addBasket_f2w0w_164",be="_priceInfo_f2w0w_172",ke="_videoModal_f2w0w_177",He="_videoModalContent_f2w0w_189",Fe="_modalVideo_f2w0w_194",Me="_closeVideoButton_f2w0w_199",i={modal:re,closeButton:le,wrapInfo:de,imageContainer:_e,mainImage:me,buttonHeart:ue,iconHeart:he,gallery:ge,galleryItem:xe,galleryImage:pe,videoContainer:ve,galleryVideo:je,playButton:Ce,containerDescription:fe,titleDes:we,productDetails:ye,productInfo:Ne,addBasket:Ie,priceInfo:be,videoModal:ke,videoModalContent:He,modalVideo:Fe,closeVideoButton:Me},Be=({onClose:r,data:t})=>{const[c,d]=p.useState(t.mainImage),[l,s]=p.useState(null),m=()=>s(null),{isFavorite:_,addFavoriteList:n,removeFavoriteList:o}=L(),u=()=>{_(t.id)?o(t.id):n(t.id)};return e.jsxs("div",{className:i.modal,children:[e.jsx("button",{className:i.closeButton,onClick:r,children:"Вернутись назад"}),e.jsxs("div",{className:i.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:i.imageContainer,children:[e.jsx("img",{className:i.mainImage,src:c,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${i.buttonHeart}`,iconHeart:i.iconHeart,isFavorite:_(t.id),onClick:u}),e.jsx("ul",{className:i.gallery,children:t.gallery.map((a,g)=>e.jsx("li",{className:i.galleryItem,children:a.type==="image"?e.jsx("img",{className:i.galleryImage,src:a.url,alt:a.description||`Зображення ${g+1}`,onClick:()=>d(a.url)}):a.type==="video"?e.jsxs("div",{className:i.videoContainer,children:[e.jsxs("video",{className:i.galleryVideo,controls:!1,children:[e.jsx("source",{src:a.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.playButton,onClick:()=>s(a.url),children:"▶ Play"})]}):null},g))})]}),e.jsx("button",{className:i.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:i.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[t.price,": грн"]})]})]}),e.jsxs("div",{className:i.containerDescription,children:[e.jsxs("h1",{className:i.titleDes,children:[t.title," ",e.jsx("span",{children:t.country})]}),e.jsxs("ul",{className:i.productDetails,children:[e.jsxs("li",{children:[t.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:i.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),l&&e.jsx("div",{className:i.videoModal,onClick:m,children:e.jsxs("div",{className:i.videoModalContent,onClick:a=>a.stopPropagation(),children:[e.jsxs("video",{className:i.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:l,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.closeVideoButton,onClick:m,children:"✖"})]})})]})},De="_container_15ya4_1",Le="_pagination_15ya4_11",$e="_paginationItem_15ya4_15",Ve="_paginationLink_15ya4_30",Ae="_isActive_15ya4_33",Pe="_prevContainer_15ya4_36",Se="_prev_15ya4_36",Te="_next_15ya4_40",h={container:De,pagination:Le,paginationItem:$e,paginationLink:Ve,isActive:Ae,prevContainer:Pe,prev:Se,next:Te},Ee=({totalCards:r,cardsPerPage:t,currentPage:c,setCurrentPage:d})=>{const l=R({maxWidth:833}),s=Math.ceil(r/t),m=l?4:12;let _=Math.max(1,c-Math.floor(m/2)),n=_+m-1;n>s&&(n=s,_=Math.max(1,n-m+1));const o=Array.from({length:n-_+1},(a,g)=>_+g),u=a=>{a>=1&&a<=s&&d(a)};return e.jsxs("section",{className:h.container,children:[!l&&e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>u(c-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>u(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>u(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:o.map(a=>e.jsx("li",{className:`${h.paginationItem} ${c===a?h.isActive:""}`,onClick:()=>u(a),children:e.jsx("a",{href:"#",className:h.paginationLink,children:a})},a))}),n<s&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>u(n+1),children:"..."}),e.jsx("button",{className:h.next,disabled:c===s,onClick:()=>u(s),children:s})]}),!l&&e.jsx("button",{className:h.next,disabled:c===s,onClick:()=>u(c+1),children:"-->"})]})},Qe=r=>{const t=B(),c=v(W),d=v(q),l=v(O),s=v(z),m=p.useMemo(()=>Array.isArray(r)?r.filter(({title:n,description:o,country:u,category:a,material:g})=>{const j=c.toLowerCase();return[n,o,u,a,g].some(C=>C.toLowerCase().includes(j))&&(!l||a===l)&&(!d||g===d)}):[],[r,c,l,d]);return p.useEffect(()=>{if(d&&!l){const n=[...new Set(r.filter(o=>d===o.material).map(o=>o.category))];n.length>0&&t(G(n))}if(l&&!d){const n=[...new Set(r.filter(o=>l===o.category).map(o=>o.material))];n.length>0&&t(J(n))}},[r,l,d,t]),p.useMemo(()=>m.length?[...m].sort((n,o)=>{switch(s){case"newest":return new Date(o.createdAt)-new Date(n.createdAt);case"highPrice":return o.price-n.price;case"lowPrice":return n.price-o.price;default:return 0}}):[],[m,s])},Re="_containerCards_19p8f_1",We="_container_19p8f_1",M={containerCards:Re,container:We},Oe=({data:r,isLoading:t,isError:c})=>{const[d,l]=p.useState(!1),[s,m]=p.useState(null),[_,n]=p.useState(1),[o]=p.useState(12),{isFavorite:u,addFavoriteList:a,removeFavoriteList:g}=L(),j=(f=null)=>{l(!d),m(f)},C=Qe(r),y=_*o,$=y-o,N=C.slice($,y);return e.jsx("div",{className:M.container,children:d?e.jsx(Be,{onClose:j,data:s}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:M.containerCards,children:[t&&e.jsx("div",{children:"...Loading"}),c&&e.jsx("div",{children:"...Error"}),!t&&!c&&N.map(({mainImage:f,country:I,id:w,price:b,title:k,description:H,gallery:V,category:A,material:P})=>e.jsx(ce,{id:w,image:f,country:I,price:b,title:k,description:H,addFavoriteList:a,removeFavoriteList:g,isFavorite:u(w),onClick:()=>j({mainImage:f,country:I,id:w,price:b,title:k,description:H,gallery:V,category:A,material:P})},w))]}),N.length>0?e.jsx(Ee,{totalCards:C.length,cardsPerPage:o,currentPage:_,setCurrentPage:n}):null]})})};export{Oe as C};
