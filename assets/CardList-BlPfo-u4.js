import{j as e,I as T,c as L,a as j,n as E,o as Q,p as R,r as v,u as W,q,t as O,v as z,w as G,g as J,e as K}from"./index-BDgLxX7D.js";const U="_containerCard_5xsja_31",X="_containerImg_5xsja_49",Y="_catalogImg_5xsja_52",Z="_buttonHeart_5xsja_57",ee="_iconHeart_5xsja_62",te="_item_5xsja_66",se="_itemTitle_5xsja_73",ae="_itemPrice_5xsja_80",oe="_itemList_5xsja_86",ne="_btnBascket_5xsja_91",g={containerCard:U,containerImg:X,catalogImg:Y,buttonHeart:Z,iconHeart:ee,item:te,itemTitle:se,itemPrice:ae,itemList:oe,btnBascket:ne},ie="_iconHeart_4w7b3_1",re="_buttonHeartActive_4w7b3_11",B={iconHeart:ie,buttonHeartActive:re},$=({isFavorite:l,onClick:t,buttonHeart:i,iconHeart:d})=>e.jsx("button",{className:`${i} `,onClick:t,"aria-label":l?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(T,{id:"icon-heart-favorite",className:`${d} ${B.iconHeart} ${l?B.buttonHeartActive:""}`})}),ce=({image:l,price:t,title:i,description:d,id:r,addFavoriteList:a,removeFavoriteList:u,isFavorite:_,onClick:s})=>{const c=()=>{_?u(r):a(r)};return e.jsxs("li",{className:g.containerCard,children:[e.jsxs("div",{className:g.containerImg,children:[e.jsx("img",{className:g.catalogImg,src:l,alt:i||"Зображення продукту",onClick:s}),e.jsx($,{buttonHeart:`${g.buttonHeart}`,iconHeart:g.iconHeart,isFavorite:_,onClick:c})]}),e.jsxs("div",{className:g.item,children:[e.jsx("h3",{className:g.itemTitle,children:d}),e.jsxs("p",{className:g.itemPrice,children:[t," грн"]})]}),e.jsx("button",{className:g.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},w=()=>{const l=L(),t=j(E);return{addFavoriteList:a=>{l(Q(a))},removeFavoriteList:a=>{l(R(a))},isFavorite:a=>t.includes(a)}},le="_modal_lrohk_32",de="_closeButton_lrohk_37",_e="_wrapInfo_lrohk_47",me="_imageContainer_lrohk_57",ue="_mainImage_lrohk_72",he="_buttonHeart_lrohk_83",xe="_iconHeart_lrohk_94",ge="_gallery_lrohk_98",ve="_galleryItem_lrohk_121",je="_galleryImage_lrohk_133",pe="_videoContainer_lrohk_139",Ce="_galleryVideo_lrohk_152",ke="_playButton_lrohk_158",ye="_containerDescription_lrohk_174",Ie="_titleDes_lrohk_182",Ne="_productDetails_lrohk_189",be="_productInfo_lrohk_198",fe="_addBasket_lrohk_206",Fe="_priceInfo_lrohk_217",He="_videoModal_lrohk_222",Me="_videoModalContent_lrohk_234",Be="_modalVideo_lrohk_239",De="_closeVideoButton_lrohk_244",n={modal:le,closeButton:de,wrapInfo:_e,imageContainer:me,mainImage:ue,buttonHeart:he,iconHeart:xe,gallery:ge,galleryItem:ve,galleryImage:je,videoContainer:pe,galleryVideo:Ce,playButton:ke,containerDescription:ye,titleDes:Ie,productDetails:Ne,productInfo:be,addBasket:fe,priceInfo:Fe,videoModal:He,videoModalContent:Me,modalVideo:Be,closeVideoButton:De},Le=({onClose:l,data:t})=>{const[i,d]=v.useState(t.mainImage),[r,a]=v.useState(null),u=()=>a(null),{isFavorite:_,addFavoriteList:s,removeFavoriteList:c}=w(),m=()=>{_(t.id)?c(t.id):s(t.id)};return e.jsxs("div",{className:n.modal,children:[e.jsx("button",{className:n.closeButton,onClick:l,children:"Вернутись назад"}),e.jsxs("div",{className:n.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:n.imageContainer,children:[e.jsx("img",{className:n.mainImage,src:i,alt:"Головне зображення"}),e.jsx($,{buttonHeart:`${n.buttonHeart}`,iconHeart:n.iconHeart,isFavorite:_(t.id),onClick:m}),e.jsx("ul",{className:n.gallery,children:t.gallery.map((o,x)=>e.jsx("li",{className:n.galleryItem,children:o.type==="image"?e.jsx("img",{className:n.galleryImage,src:o.url,alt:o.description||`Зображення ${x+1}`,onClick:()=>d(o.url)}):o.type==="video"?e.jsxs("div",{className:n.videoContainer,children:[e.jsxs("video",{className:n.galleryVideo,controls:!1,children:[e.jsx("source",{src:o.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.playButton,onClick:()=>a(o.url),children:"▶ Play"})]}):null},x))})]}),e.jsx("button",{className:n.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:n.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[t.price,": грн"]})]})]}),e.jsxs("div",{className:n.containerDescription,children:[e.jsxs("h1",{className:n.titleDes,children:[t.title," ",e.jsx("span",{children:t.country})]}),e.jsxs("ul",{className:n.productDetails,children:[e.jsxs("li",{children:[t.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:n.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),r&&e.jsx("div",{className:n.videoModal,onClick:u,children:e.jsxs("div",{className:n.videoModalContent,onClick:o=>o.stopPropagation(),children:[e.jsxs("video",{className:n.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:r,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.closeVideoButton,onClick:u,children:"✖"})]})})]})},$e="_container_15ya4_1",we="_pagination_15ya4_11",Ve="_paginationItem_15ya4_15",Ae="_paginationLink_15ya4_30",Pe="_isActive_15ya4_33",Se="_prevContainer_15ya4_36",Te="_prev_15ya4_36",Ee="_next_15ya4_40",h={container:$e,pagination:we,paginationItem:Ve,paginationLink:Ae,isActive:Pe,prevContainer:Se,prev:Te,next:Ee},Qe=({totalCards:l,cardsPerPage:t,currentPage:i,setCurrentPage:d})=>{const r=W({maxWidth:833}),a=Math.ceil(l/t),u=r?4:12;let _=Math.max(1,i-Math.floor(u/2)),s=_+u-1;s>a&&(s=a,_=Math.max(1,s-u+1));const c=Array.from({length:s-_+1},(o,x)=>_+x),m=o=>{o>=1&&o<=a&&d(o)};return e.jsxs("section",{className:h.container,children:[!r&&e.jsx("button",{className:h.prev,disabled:i===1,onClick:()=>m(i-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:i===1,onClick:()=>m(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>m(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:c.map(o=>e.jsx("li",{className:`${h.paginationItem} ${i===o?h.isActive:""}`,onClick:()=>m(o),children:e.jsx("a",{href:"#",className:h.paginationLink,children:o})},o))}),s<a&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>m(s+1),children:"..."}),e.jsx("button",{className:h.next,disabled:i===a,onClick:()=>m(a),children:a})]}),!r&&e.jsx("button",{className:h.next,disabled:i===a,onClick:()=>m(i+1),children:"-->"})]})},Re=l=>{const t=L(),i=j(q),d=j(O),r=j(z),a=j(G),u=v.useMemo(()=>Array.isArray(l)?l.filter(({title:s,description:c,country:m,category:o,material:x})=>{const y=i.toLowerCase();return[s,c,m,o,x].some(p=>p.toLowerCase().includes(y))&&(!r||o===r)&&(!d||x===d)}):[],[l,i,r,d]);return v.useEffect(()=>{if(d&&!r){const s=[...new Set(l.filter(c=>d===c.material).map(c=>c.category))];s.length>0&&t(J(s))}if(r&&!d){const s=[...new Set(l.filter(c=>r===c.category).map(c=>c.material))];s.length>0&&t(K(s))}},[l,r,d,t]),v.useMemo(()=>u.length?[...u].sort((s,c)=>{switch(a){case"newest":return new Date(c.createdAt)-new Date(s.createdAt);case"highPrice":return c.price-s.price;case"lowPrice":return s.price-c.price;default:return 0}}):[],[u,a])},We="_containerCards_19p8f_1",qe="_container_19p8f_1",D={containerCards:We,container:qe},ze=({data:l,isLoading:t,isError:i,style:d})=>{const[r,a]=v.useState(!1),[u,_]=v.useState(null),[s,c]=v.useState(1),[m]=v.useState(12),{isFavorite:o,addFavoriteList:x,removeFavoriteList:y}=w(),p=(C=null)=>{a(!r),_(C)},I=Re(l),N=s*m,V=N-m,b=I.slice(V,N);return e.jsx("div",{className:`${D.container} ${d}`,children:r?e.jsx(Le,{onClose:p,data:u}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:D.containerCards,children:[t&&e.jsx("div",{children:"...Loading"}),i&&e.jsx("div",{children:"...Error"}),!t&&!i&&b.map(({mainImage:C,country:f,id:k,price:F,title:H,description:M,gallery:A,category:P,material:S})=>e.jsx(ce,{id:k,image:C,country:f,price:F,title:H,description:M,addFavoriteList:x,removeFavoriteList:y,isFavorite:o(k),onClick:()=>p({mainImage:C,country:f,id:k,price:F,title:H,description:M,gallery:A,category:P,material:S})},k))]}),b.length>0?e.jsx(Qe,{totalCards:I.length,cardsPerPage:m,currentPage:s,setCurrentPage:c}):null]})})};export{ze as C};
