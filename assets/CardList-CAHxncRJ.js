import{j as e,I as S,c as L,a as x,p as T,q as E,t as Q,r as h,o as R,v as W,w as O,x as z,y as G,g as J,e as K}from"./index-DvlLVvOX.js";const U="_containerCard_9q5vd_1",X="_containerImg_9q5vd_18",Y="_catalogImg_9q5vd_21",Z="_buttonHeart_9q5vd_26",ee="_iconHeart_9q5vd_31",te="_item_9q5vd_35",se="_itemTitle_9q5vd_42",ne="_itemPrice_9q5vd_46",ae="_itemList_9q5vd_50",oe="_btnBascket_9q5vd_55",g={containerCard:U,containerImg:X,catalogImg:Y,buttonHeart:Z,iconHeart:ee,item:te,itemTitle:se,itemPrice:ne,itemList:ae,btnBascket:oe},ie="_iconHeart_4w7b3_1",ce="_buttonHeartActive_4w7b3_11",B={iconHeart:ie,buttonHeartActive:ce},$=({isFavorite:l,onClick:t,buttonHeart:i,iconHeart:d})=>e.jsx("button",{className:`${i} `,onClick:t,"aria-label":l?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(S,{id:"icon-heart-favorite",className:`${d} ${B.iconHeart} ${l?B.buttonHeartActive:""}`})}),re=({image:l,price:t,title:i,description:d,id:c,addFavoriteList:n,removeFavoriteList:u,isFavorite:_,onClick:s})=>{const r=()=>{_?u(c):n(c)};return e.jsxs("li",{className:g.containerCard,children:[e.jsxs("div",{className:g.containerImg,children:[e.jsx("img",{className:g.catalogImg,src:l,alt:i||"Зображення продукту",onClick:s}),e.jsx($,{buttonHeart:`${g.buttonHeart}`,iconHeart:g.iconHeart,isFavorite:_,onClick:r})]}),e.jsxs("div",{className:g.item,children:[e.jsx("h3",{className:g.itemTitle,children:d}),e.jsxs("p",{className:g.itemPrice,children:["Ціна: ",t]})]}),e.jsx("button",{className:g.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},w=()=>{const l=L(),t=x(T);return{addFavoriteList:n=>{l(E(n))},removeFavoriteList:n=>{l(Q(n))},isFavorite:n=>t.includes(n)}},le="_modal_1c3ep_2",de="_closeButton_1c3ep_7",_e="_wrapInfo_1c3ep_14",me="_imageContainer_1c3ep_24",ue="_mainImage_1c3ep_39",pe="_buttonHeart_1c3ep_50",ve="_iconHeart_1c3ep_61",ge="_gallery_1c3ep_65",he="_galleryItem_1c3ep_88",xe="_galleryImage_1c3ep_100",je="_videoContainer_1c3ep_106",Ce="_galleryVideo_1c3ep_119",ye="_playButton_1c3ep_125",Ie="_containerDescription_1c3ep_141",Ne="_titleDes_1c3ep_149",be="_productDetails_1c3ep_152",fe="_productInfo_1c3ep_158",ke="_addBasket_1c3ep_163",Fe="_priceInfo_1c3ep_171",He="_videoModal_1c3ep_176",Me="_videoModalContent_1c3ep_188",Be="_modalVideo_1c3ep_193",De="_closeVideoButton_1c3ep_198",o={modal:le,closeButton:de,wrapInfo:_e,imageContainer:me,mainImage:ue,buttonHeart:pe,iconHeart:ve,gallery:ge,galleryItem:he,galleryImage:xe,videoContainer:je,galleryVideo:Ce,playButton:ye,containerDescription:Ie,titleDes:Ne,productDetails:be,productInfo:fe,addBasket:ke,priceInfo:Fe,videoModal:He,videoModalContent:Me,modalVideo:Be,closeVideoButton:De},Le=({onClose:l,data:t})=>{const[i,d]=h.useState(t.mainImage),[c,n]=h.useState(null),u=()=>n(null),{isFavorite:_,addFavoriteList:s,removeFavoriteList:r}=w(),m=()=>{_(t.id)?r(t.id):s(t.id)};return e.jsxs("div",{className:o.modal,children:[e.jsx("button",{className:o.closeButton,onClick:l,children:"Вернутись назад"}),e.jsxs("div",{className:o.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:o.imageContainer,children:[e.jsx("img",{className:o.mainImage,src:i,alt:"Головне зображення"}),e.jsx($,{buttonHeart:`${o.buttonHeart}`,iconHeart:o.iconHeart,isFavorite:_(t.id),onClick:m}),e.jsx("ul",{className:o.gallery,children:t.gallery.map((a,v)=>e.jsx("li",{className:o.galleryItem,children:a.type==="image"?e.jsx("img",{className:o.galleryImage,src:a.url,alt:a.description||`Зображення ${v+1}`,onClick:()=>d(a.url)}):a.type==="video"?e.jsxs("div",{className:o.videoContainer,children:[e.jsxs("video",{className:o.galleryVideo,controls:!1,children:[e.jsx("source",{src:a.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:o.playButton,onClick:()=>n(a.url),children:"▶ Play"})]}):null},v))})]}),e.jsx("button",{className:o.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:o.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[t.price,": грн"]})]})]}),e.jsxs("div",{className:o.containerDescription,children:[e.jsxs("h1",{className:o.titleDes,children:[t.title," ",e.jsx("span",{children:t.country})]}),e.jsxs("ul",{className:o.productDetails,children:[e.jsxs("li",{children:[t.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:o.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),c&&e.jsx("div",{className:o.videoModal,onClick:u,children:e.jsxs("div",{className:o.videoModalContent,onClick:a=>a.stopPropagation(),children:[e.jsxs("video",{className:o.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:c,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:o.closeVideoButton,onClick:u,children:"✖"})]})})]})},$e="_container_15ya4_1",we="_pagination_15ya4_11",Ve="_paginationItem_15ya4_15",Ae="_paginationLink_15ya4_30",qe="_isActive_15ya4_33",Pe="_prevContainer_15ya4_36",Se="_prev_15ya4_36",Te="_next_15ya4_40",p={container:$e,pagination:we,paginationItem:Ve,paginationLink:Ae,isActive:qe,prevContainer:Pe,prev:Se,next:Te},Ee=({totalCards:l,cardsPerPage:t,currentPage:i,setCurrentPage:d})=>{const c=R({maxWidth:833}),n=Math.ceil(l/t),u=c?4:12;let _=Math.max(1,i-Math.floor(u/2)),s=_+u-1;s>n&&(s=n,_=Math.max(1,s-u+1));const r=Array.from({length:s-_+1},(a,v)=>_+v),m=a=>{a>=1&&a<=n&&d(a)};return e.jsxs("section",{className:p.container,children:[!c&&e.jsx("button",{className:p.prev,disabled:i===1,onClick:()=>m(i-1),children:"<--"}),_>2&&e.jsxs("div",{className:p.prevContainer,children:[e.jsx("button",{className:p.prev,disabled:i===1,onClick:()=>m(1),children:"1"}),e.jsx("button",{className:p.prev,onClick:()=>m(_-1),children:"..."})]}),e.jsx("ul",{className:p.pagination,children:r.map(a=>e.jsx("li",{className:`${p.paginationItem} ${i===a?p.isActive:""}`,onClick:()=>m(a),children:e.jsx("a",{href:"#",className:p.paginationLink,children:a})},a))}),s<n&&e.jsxs("div",{className:p.prevContainer,children:[e.jsx("button",{className:p.next,onClick:()=>m(s+1),children:"..."}),e.jsx("button",{className:p.next,disabled:i===n,onClick:()=>m(n),children:n})]}),!c&&e.jsx("button",{className:p.next,disabled:i===n,onClick:()=>m(i+1),children:"-->"})]})},Qe=l=>{const t=L(),i=x(W),d=x(O),c=x(z),n=x(G),u=h.useMemo(()=>Array.isArray(l)?l.filter(({title:s,description:r,country:m,category:a,material:v})=>{const I=i.toLowerCase();return[s,r,m,a,v].some(j=>j.toLowerCase().includes(I))&&(!c||a===c)&&(!d||v===d)}):[],[l,i,c,d]);return h.useEffect(()=>{if(d&&!c){const s=[...new Set(l.filter(r=>d===r.material).map(r=>r.category))];s.length>0&&t(J(s))}if(c&&!d){const s=[...new Set(l.filter(r=>c===r.category).map(r=>r.material))];s.length>0&&t(K(s))}},[l,c,d,t]),h.useMemo(()=>u.length?[...u].sort((s,r)=>{switch(n){case"newest":return new Date(r.createdAt)-new Date(s.createdAt);case"highPrice":return r.price-s.price;case"lowPrice":return s.price-r.price;default:return 0}}):[],[u,n])},Re="_containerCards_19p8f_1",We="_container_19p8f_1",D={containerCards:Re,container:We},ze=({data:l,isLoading:t,isError:i,style:d})=>{const[c,n]=h.useState(!1),[u,_]=h.useState(null),[s,r]=h.useState(1),[m]=h.useState(12),{isFavorite:a,addFavoriteList:v,removeFavoriteList:I}=w(),j=(C=null)=>{n(!c),_(C)},N=Qe(l),b=s*m,V=b-m,f=N.slice(V,b);return e.jsx("div",{className:`${D.container} ${d}`,children:c?e.jsx(Le,{onClose:j,data:u}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:D.containerCards,children:[t&&e.jsx("div",{children:"...Loading"}),i&&e.jsx("div",{children:"...Error"}),!t&&!i&&f.map(({mainImage:C,country:k,id:y,price:F,title:H,description:M,gallery:A,category:q,material:P})=>e.jsx(re,{id:y,image:C,country:k,price:F,title:H,description:M,addFavoriteList:v,removeFavoriteList:I,isFavorite:a(y),onClick:()=>j({mainImage:C,country:k,id:y,price:F,title:H,description:M,gallery:A,category:q,material:P})},y))]}),f.length>0?e.jsx(Ee,{totalCards:N.length,cardsPerPage:m,currentPage:s,setCurrentPage:r}):null]})})};export{ze as C};
