import{j as e,I as P,r as g,d as D,b as p,p as z,q as T,t as E,u as Q,v as R,w as W,x as q,y as O,h as G,f as J,S as K}from"./index-D0COa1Vq.js";const U="_containerCard_1evje_31",X="_containerImg_1evje_49",Y="_catalogImg_1evje_52",Z="_buttonHeart_1evje_57",ee="_iconHeart_1evje_64",te="_item_1evje_68",se="_itemTitle_1evje_82",ae="_itemPrice_1evje_94",ne="_itemList_1evje_100",oe="_btnBascket_1evje_105",ie="_active_1evje_117",v={containerCard:U,containerImg:X,catalogImg:Y,buttonHeart:Z,iconHeart:ee,item:te,itemTitle:se,itemPrice:ae,itemList:ne,btnBascket:oe,active:ie},ce="_iconHeart_1e911_1",re="_buttonHeartActive_1e911_11",B={iconHeart:ce,buttonHeartActive:re},$=({isFavorite:c,onClick:a,buttonHeart:r,iconHeart:d})=>e.jsx("button",{className:`${r} `,onClick:a,"aria-label":c?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{id:"icon-heart-favorite",className:`${d} ${B.iconHeart} ${c?B.buttonHeartActive:""}`})}),le=({image:c,price:a,title:r,description:d,id:l,addFavoriteList:n,removeFavoriteList:m,isFavorite:_,onClick:o})=>{const[i,u]=g.useState(!1),s=()=>{u(!i)},j=()=>{_?m(l):n(l)};return e.jsxs("li",{className:v.containerCard,children:[e.jsxs("div",{className:v.containerImg,children:[e.jsx("img",{className:v.catalogImg,src:c,alt:r||"Зображення продукту",onClick:o}),e.jsx($,{buttonHeart:`${v.buttonHeart}`,iconHeart:v.iconHeart,isFavorite:_,onClick:j})]}),e.jsxs("div",{className:v.item,children:[e.jsx("h3",{className:v.itemTitle,children:d}),e.jsxs("p",{className:v.itemPrice,children:[a," грн"]})]}),e.jsx("button",{className:`${v.btnBascket} ${i?v.active:""}`,"aria-label":"Додати до кошика",onClick:s,children:"додати до кошику"})]})},L=()=>{const c=D(),a=p(z);return{addFavoriteList:n=>{c(T(n))},removeFavoriteList:n=>{c(E(n))},isFavorite:n=>a.includes(n)}},de="_modal_1tjhu_32",_e="_closeButton_1tjhu_37",ue="_wrapInfo_1tjhu_47",me="_imageContainer_1tjhu_57",he="_mainImage_1tjhu_72",je="_buttonHeart_1tjhu_83",ve="_iconHeart_1tjhu_94",ge="_gallery_1tjhu_98",pe="_galleryItem_1tjhu_121",xe="_galleryImage_1tjhu_133",Ce="_videoContainer_1tjhu_139",Ie="_galleryVideo_1tjhu_152",ye="_playButton_1tjhu_158",Ne="_containerDescription_1tjhu_174",be="_titleDes_1tjhu_182",fe="_productDetails_1tjhu_189",ke="_productInfoItem_1tjhu_195",Fe="_productInfo_1tjhu_195",He="_addBasket_1tjhu_209",Me="_priceInfo_1tjhu_220",Be="_price_1tjhu_220",De="_videoModal_1tjhu_231",$e="_videoModalContent_1tjhu_243",Le="_modalVideo_1tjhu_248",Ae="_closeVideoButton_1tjhu_253",t={modal:de,closeButton:_e,wrapInfo:ue,imageContainer:me,mainImage:he,buttonHeart:je,iconHeart:ve,gallery:ge,galleryItem:pe,galleryImage:xe,videoContainer:Ce,galleryVideo:Ie,playButton:ye,containerDescription:Ne,titleDes:be,productDetails:fe,productInfoItem:ke,productInfo:Fe,addBasket:He,priceInfo:Me,price:Be,videoModal:De,videoModalContent:$e,modalVideo:Le,closeVideoButton:Ae},we=({onClose:c,data:a})=>{const[r,d]=g.useState(a.mainImage),[l,n]=g.useState(null),m=()=>n(null),{isFavorite:_,addFavoriteList:o,removeFavoriteList:i}=L(),u=()=>{_(a.id)?i(a.id):o(a.id)};return e.jsxs("div",{className:t.modal,children:[e.jsx("button",{className:t.closeButton,onClick:c,children:"Вернутись назад"}),e.jsxs("div",{className:t.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:t.imageContainer,children:[e.jsx("img",{className:t.mainImage,src:r,alt:"Головне зображення"}),e.jsx($,{buttonHeart:`${t.buttonHeart}`,iconHeart:t.iconHeart,isFavorite:_(a.id),onClick:u}),e.jsx("ul",{className:t.gallery,children:a.gallery.map((s,j)=>e.jsx("li",{className:t.galleryItem,children:s.type==="image"?e.jsx("img",{className:t.galleryImage,src:s.url,alt:s.description||`Зображення ${j+1}`,onClick:()=>d(s.url)}):s.type==="video"?e.jsxs("div",{className:t.videoContainer,children:[e.jsxs("video",{className:t.galleryVideo,controls:!1,children:[e.jsx("source",{src:s.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.playButton,onClick:()=>n(s.url),children:"▶ Play"})]}):null},j))})]}),e.jsx("button",{className:t.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:t.priceInfo,children:[e.jsx("li",{className:t.price,children:"€ 222"}),e.jsxs("li",{className:t.price,children:[a.price,": грн"]})]})]}),e.jsxs("div",{className:t.containerDescription,children:[e.jsxs("h1",{className:t.titleDes,children:[a.title," ",e.jsx("span",{children:a.country})]}),e.jsxs("ul",{className:t.productDetails,children:[e.jsxs("li",{className:t.productInfoItem,children:[a.category,", деколь, метал"]}),e.jsx("li",{className:t.productInfoItem,children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{className:t.productInfoItem,children:"Діаметр 6 см"}),e.jsx("li",{className:t.productInfoItem,children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:t.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),l&&e.jsx("div",{className:t.videoModal,onClick:m,children:e.jsxs("div",{className:t.videoModalContent,onClick:s=>s.stopPropagation(),children:[e.jsxs("video",{className:t.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:l,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.closeVideoButton,onClick:m,children:"✖"})]})})]})},Ve="_container_15ya4_1",Se="_pagination_15ya4_11",Pe="_paginationItem_15ya4_15",ze="_paginationLink_15ya4_30",Te="_isActive_15ya4_33",Ee="_prevContainer_15ya4_36",Qe="_prev_15ya4_36",Re="_next_15ya4_40",h={container:Ve,pagination:Se,paginationItem:Pe,paginationLink:ze,isActive:Te,prevContainer:Ee,prev:Qe,next:Re},We=({totalCards:c,cardsPerPage:a,currentPage:r,setCurrentPage:d})=>{const l=Q({maxWidth:833}),n=Math.ceil(c/a),m=l?4:12;let _=Math.max(1,r-Math.floor(m/2)),o=_+m-1;o>n&&(o=n,_=Math.max(1,o-m+1));const i=Array.from({length:o-_+1},(s,j)=>_+j),u=s=>{s>=1&&s<=n&&d(s)};return e.jsxs("section",{className:h.container,children:[!l&&e.jsx("button",{className:h.prev,disabled:r===1,onClick:()=>u(r-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:r===1,onClick:()=>u(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>u(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:i.map(s=>e.jsx("li",{className:`${h.paginationItem} ${r===s?h.isActive:""}`,onClick:()=>u(s),children:e.jsx("a",{href:"#",className:h.paginationLink,children:s})},s))}),o<n&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>u(o+1),children:"..."}),e.jsx("button",{className:h.next,disabled:r===n,onClick:()=>u(n),children:n})]}),!l&&e.jsx("button",{className:h.next,disabled:r===n,onClick:()=>u(r+1),children:"-->"})]})},qe=c=>{const a=D(),r=p(R),d=p(W),l=p(q),n=p(O),m=g.useMemo(()=>Array.isArray(c)?c.filter(({title:o,description:i,country:u,category:s,material:j})=>{const x=r.toLowerCase();return[o,i,u,s,j].some(y=>y.toLowerCase().includes(x))&&(!l||s===l)&&(!d||j===d)}):[],[c,r,l,d]);return g.useEffect(()=>{if(d&&!l){const o=[...new Set(c.filter(i=>d===i.material).map(i=>i.category))];o.length>0&&a(G(o))}if(l&&!d){const o=[...new Set(c.filter(i=>l===i.category).map(i=>i.material))];o.length>0&&a(J(o))}},[c,l,d,a]),g.useMemo(()=>m.length?[...m].sort((o,i)=>{switch(n){case"newest":return new Date(i.createdAt)-new Date(o.createdAt);case"highPrice":return i.price-o.price;case"lowPrice":return o.price-i.price;default:return 0}}):[],[m,n])},Oe="_ContainerForTitle_63bnz_31",Ge="_grupCategories_63bnz_43",Je="_listCategories_63bnz_47",Ke="_containerCategorizer_63bnz_61",Ue="_active_63bnz_80",Xe="_center_63bnz_84",Ye={ContainerForTitle:Oe,grupCategories:Ge,listCategories:Je,containerCategorizer:Ke,active:Ue,center:Xe},Ze="_containerCards_1o6hd_1",et={containerCards:Ze},st=({data:c,isLoading:a,isError:r})=>{const[d,l]=g.useState(!1),[n,m]=g.useState(null),[_,o]=g.useState(1),[i]=g.useState(12),{isFavorite:u,addFavoriteList:s,removeFavoriteList:j}=L(),x=(C=null)=>{l(!d),m(C)},y=Array.isArray(c)?c:[],N=qe(y),b=_*i,A=b-i,f=N.slice(A,b);return e.jsx("section",{children:d?e.jsx(we,{onClose:x,data:n}):e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:Ye.center,children:e.jsx(K,{})}),e.jsxs("ul",{className:et.containerCards,children:[r&&e.jsx("div",{children:"...Error"}),!a&&!r&&f.map(({mainImage:C,country:k,id:I,price:F,title:H,description:M,gallery:w,category:V,material:S})=>e.jsx(le,{id:I,image:C,country:k,price:F,title:H,description:M,addFavoriteList:s,removeFavoriteList:j,isFavorite:u(I),onClick:()=>x({mainImage:C,country:k,id:I,price:F,title:H,description:M,gallery:w,category:V,material:S})},I))]}),f.length>0?e.jsx(We,{totalCards:N.length,cardsPerPage:i,currentPage:_,setCurrentPage:o}):null]})})};export{st as C,Ye as s};
