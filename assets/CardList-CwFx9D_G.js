import{j as e,I as P,r as v,c as B,a as x,n as S,o as T,p as E,u as Q,q as R,t as W,v as q,w as O,g as z,e as G}from"./index-CeKuG9g6.js";const J="_containerCard_1gpl7_31",K="_containerImg_1gpl7_49",U="_catalogImg_1gpl7_52",X="_buttonHeart_1gpl7_57",Y="_iconHeart_1gpl7_62",Z="_item_1gpl7_66",ee="_itemTitle_1gpl7_73",te="_itemPrice_1gpl7_80",se="_itemList_1gpl7_86",oe="_btnBascket_1gpl7_91",ae="_active_1gpl7_103",p={containerCard:J,containerImg:K,catalogImg:U,buttonHeart:X,iconHeart:Y,item:Z,itemTitle:ee,itemPrice:te,itemList:se,btnBascket:oe,active:ae},ne="_iconHeart_4w7b3_1",ie="_buttonHeartActive_4w7b3_11",M={iconHeart:ne,buttonHeartActive:ie},D=({isFavorite:r,onClick:s,buttonHeart:l,iconHeart:d})=>e.jsx("button",{className:`${l} `,onClick:s,"aria-label":r?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{id:"icon-heart-favorite",className:`${d} ${M.iconHeart} ${r?M.buttonHeartActive:""}`})}),le=({image:r,price:s,title:l,description:d,id:c,addFavoriteList:a,removeFavoriteList:u,isFavorite:_,onClick:n})=>{const[o,m]=v.useState(!1);console.log(o);const t=()=>{m(!o)},g=()=>{_?u(c):a(c)};return e.jsxs("li",{className:p.containerCard,children:[e.jsxs("div",{className:p.containerImg,children:[e.jsx("img",{className:p.catalogImg,src:r,alt:l||"Зображення продукту",onClick:n}),e.jsx(D,{buttonHeart:`${p.buttonHeart}`,iconHeart:p.iconHeart,isFavorite:_,onClick:g})]}),e.jsxs("div",{className:p.item,children:[e.jsx("h3",{className:p.itemTitle,children:d}),e.jsxs("p",{className:p.itemPrice,children:[s," грн"]})]}),e.jsx("button",{className:`${p.btnBascket} ${o?p.active:""}`,"aria-label":"Додати до кошика",onClick:t,children:"додати до кошику"})]})},L=()=>{const r=B(),s=x(S);return{addFavoriteList:a=>{r(T(a))},removeFavoriteList:a=>{r(E(a))},isFavorite:a=>s.includes(a)}},re="_modal_lrohk_32",ce="_closeButton_lrohk_37",de="_wrapInfo_lrohk_47",_e="_imageContainer_lrohk_57",me="_mainImage_lrohk_72",ue="_buttonHeart_lrohk_83",he="_iconHeart_lrohk_94",ge="_gallery_lrohk_98",pe="_galleryItem_lrohk_121",ve="_galleryImage_lrohk_133",xe="_videoContainer_lrohk_139",je="_galleryVideo_lrohk_152",Ce="_playButton_lrohk_158",ke="_containerDescription_lrohk_174",ye="_titleDes_lrohk_182",Ie="_productDetails_lrohk_189",be="_productInfo_lrohk_198",Ne="_addBasket_lrohk_206",fe="_priceInfo_lrohk_217",Fe="_videoModal_lrohk_222",He="_videoModalContent_lrohk_234",Me="_modalVideo_lrohk_239",Be="_closeVideoButton_lrohk_244",i={modal:re,closeButton:ce,wrapInfo:de,imageContainer:_e,mainImage:me,buttonHeart:ue,iconHeart:he,gallery:ge,galleryItem:pe,galleryImage:ve,videoContainer:xe,galleryVideo:je,playButton:Ce,containerDescription:ke,titleDes:ye,productDetails:Ie,productInfo:be,addBasket:Ne,priceInfo:fe,videoModal:Fe,videoModalContent:He,modalVideo:Me,closeVideoButton:Be},De=({onClose:r,data:s})=>{const[l,d]=v.useState(s.mainImage),[c,a]=v.useState(null),u=()=>a(null),{isFavorite:_,addFavoriteList:n,removeFavoriteList:o}=L(),m=()=>{_(s.id)?o(s.id):n(s.id)};return e.jsxs("div",{className:i.modal,children:[e.jsx("button",{className:i.closeButton,onClick:r,children:"Вернутись назад"}),e.jsxs("div",{className:i.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:i.imageContainer,children:[e.jsx("img",{className:i.mainImage,src:l,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${i.buttonHeart}`,iconHeart:i.iconHeart,isFavorite:_(s.id),onClick:m}),e.jsx("ul",{className:i.gallery,children:s.gallery.map((t,g)=>e.jsx("li",{className:i.galleryItem,children:t.type==="image"?e.jsx("img",{className:i.galleryImage,src:t.url,alt:t.description||`Зображення ${g+1}`,onClick:()=>d(t.url)}):t.type==="video"?e.jsxs("div",{className:i.videoContainer,children:[e.jsxs("video",{className:i.galleryVideo,controls:!1,children:[e.jsx("source",{src:t.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.playButton,onClick:()=>a(t.url),children:"▶ Play"})]}):null},g))})]}),e.jsx("button",{className:i.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:i.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[s.price,": грн"]})]})]}),e.jsxs("div",{className:i.containerDescription,children:[e.jsxs("h1",{className:i.titleDes,children:[s.title," ",e.jsx("span",{children:s.country})]}),e.jsxs("ul",{className:i.productDetails,children:[e.jsxs("li",{children:[s.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:i.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),c&&e.jsx("div",{className:i.videoModal,onClick:u,children:e.jsxs("div",{className:i.videoModalContent,onClick:t=>t.stopPropagation(),children:[e.jsxs("video",{className:i.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:c,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.closeVideoButton,onClick:u,children:"✖"})]})})]})},Le="_container_15ya4_1",we="_pagination_15ya4_11",$e="_paginationItem_15ya4_15",Ve="_paginationLink_15ya4_30",Ae="_isActive_15ya4_33",Pe="_prevContainer_15ya4_36",Se="_prev_15ya4_36",Te="_next_15ya4_40",h={container:Le,pagination:we,paginationItem:$e,paginationLink:Ve,isActive:Ae,prevContainer:Pe,prev:Se,next:Te},Ee=({totalCards:r,cardsPerPage:s,currentPage:l,setCurrentPage:d})=>{const c=Q({maxWidth:833}),a=Math.ceil(r/s),u=c?4:12;let _=Math.max(1,l-Math.floor(u/2)),n=_+u-1;n>a&&(n=a,_=Math.max(1,n-u+1));const o=Array.from({length:n-_+1},(t,g)=>_+g),m=t=>{t>=1&&t<=a&&d(t)};return e.jsxs("section",{className:h.container,children:[!c&&e.jsx("button",{className:h.prev,disabled:l===1,onClick:()=>m(l-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:l===1,onClick:()=>m(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>m(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:o.map(t=>e.jsx("li",{className:`${h.paginationItem} ${l===t?h.isActive:""}`,onClick:()=>m(t),children:e.jsx("a",{href:"#",className:h.paginationLink,children:t})},t))}),n<a&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>m(n+1),children:"..."}),e.jsx("button",{className:h.next,disabled:l===a,onClick:()=>m(a),children:a})]}),!c&&e.jsx("button",{className:h.next,disabled:l===a,onClick:()=>m(l+1),children:"-->"})]})},Qe=r=>{const s=B(),l=x(R),d=x(W),c=x(q),a=x(O),u=v.useMemo(()=>Array.isArray(r)?r.filter(({title:n,description:o,country:m,category:t,material:g})=>{const j=l.toLowerCase();return[n,o,m,t,g].some(C=>C.toLowerCase().includes(j))&&(!c||t===c)&&(!d||g===d)}):[],[r,l,c,d]);return v.useEffect(()=>{if(d&&!c){const n=[...new Set(r.filter(o=>d===o.material).map(o=>o.category))];n.length>0&&s(z(n))}if(c&&!d){const n=[...new Set(r.filter(o=>c===o.category).map(o=>o.material))];n.length>0&&s(G(n))}},[r,c,d,s]),v.useMemo(()=>u.length?[...u].sort((n,o)=>{switch(a){case"newest":return new Date(o.createdAt)-new Date(n.createdAt);case"highPrice":return o.price-n.price;case"lowPrice":return n.price-o.price;default:return 0}}):[],[u,a])},Re="_containerCards_1o6hd_1",We={containerCards:Re},Oe=({data:r,isLoading:s,isError:l})=>{const[d,c]=v.useState(!1),[a,u]=v.useState(null),[_,n]=v.useState(1),[o]=v.useState(12),{isFavorite:m,addFavoriteList:t,removeFavoriteList:g}=L(),j=(k=null)=>{c(!d),u(k)},C=Qe(r),I=_*o,w=I-o,b=C.slice(w,I);return e.jsx("section",{children:d?e.jsx(De,{onClose:j,data:a}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:We.containerCards,children:[s&&e.jsx("div",{children:"...Loading"}),l&&e.jsx("div",{children:"...Error"}),!s&&!l&&b.map(({mainImage:k,country:N,id:y,price:f,title:F,description:H,gallery:$,category:V,material:A})=>e.jsx(le,{id:y,image:k,country:N,price:f,title:F,description:H,addFavoriteList:t,removeFavoriteList:g,isFavorite:m(y),onClick:()=>j({mainImage:k,country:N,id:y,price:f,title:F,description:H,gallery:$,category:V,material:A})},y))]}),b.length>0?e.jsx(Ee,{totalCards:C.length,cardsPerPage:o,currentPage:_,setCurrentPage:n}):null]})})};export{Oe as C};
