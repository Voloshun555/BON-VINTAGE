import{j as e,I as P,r as x,c as B,a as k,n as S,o as z,p as T,u as E,q as Q,t as R,v as W,w as q,g as O,e as G}from"./index-D884FBh0.js";const J="_containerCard_kkczd_31",K="_containerImg_kkczd_49",U="_catalogImg_kkczd_52",X="_buttonHeart_kkczd_57",Y="_iconHeart_kkczd_64",Z="_item_kkczd_68",ee="_itemTitle_kkczd_75",te="_itemPrice_kkczd_82",se="_itemList_kkczd_88",oe="_btnBascket_kkczd_93",ae="_active_kkczd_105",v={containerCard:J,containerImg:K,catalogImg:U,buttonHeart:X,iconHeart:Y,item:Z,itemTitle:ee,itemPrice:te,itemList:se,btnBascket:oe,active:ae},ne="_iconHeart_1e911_1",ie="_buttonHeartActive_1e911_11",M={iconHeart:ne,buttonHeartActive:ie},D=({isFavorite:r,onClick:s,buttonHeart:c,iconHeart:d})=>e.jsx("button",{className:`${c} `,onClick:s,"aria-label":r?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{id:"icon-heart-favorite",className:`${d} ${M.iconHeart} ${r?M.buttonHeartActive:""}`})}),ce=({image:r,price:s,title:c,description:d,id:l,addFavoriteList:o,removeFavoriteList:u,isFavorite:_,onClick:a})=>{const[n,m]=x.useState(!1),t=()=>{m(!n)},g=()=>{_?u(l):o(l)};return e.jsxs("li",{className:v.containerCard,children:[e.jsxs("div",{className:v.containerImg,children:[e.jsx("img",{className:v.catalogImg,src:r,alt:c||"Зображення продукту",onClick:a}),e.jsx(D,{buttonHeart:`${v.buttonHeart}`,iconHeart:v.iconHeart,isFavorite:_,onClick:g})]}),e.jsxs("div",{className:v.item,children:[e.jsx("h3",{className:v.itemTitle,children:d}),e.jsxs("p",{className:v.itemPrice,children:[s," грн"]})]}),e.jsx("button",{className:`${v.btnBascket} ${n?v.active:""}`,"aria-label":"Додати до кошика",onClick:t,children:"додати до кошику"})]})},L=()=>{const r=B(),s=k(S);return{addFavoriteList:o=>{r(z(o))},removeFavoriteList:o=>{r(T(o))},isFavorite:o=>s.includes(o)}},re="_modal_lrohk_32",le="_closeButton_lrohk_37",de="_wrapInfo_lrohk_47",_e="_imageContainer_lrohk_57",me="_mainImage_lrohk_72",ue="_buttonHeart_lrohk_83",he="_iconHeart_lrohk_94",ge="_gallery_lrohk_98",ve="_galleryItem_lrohk_121",xe="_galleryImage_lrohk_133",ke="_videoContainer_lrohk_139",pe="_galleryVideo_lrohk_152",je="_playButton_lrohk_158",Ce="_containerDescription_lrohk_174",ye="_titleDes_lrohk_182",Ie="_productDetails_lrohk_189",Ne="_productInfo_lrohk_198",be="_addBasket_lrohk_206",fe="_priceInfo_lrohk_217",Fe="_videoModal_lrohk_222",He="_videoModalContent_lrohk_234",Me="_modalVideo_lrohk_239",Be="_closeVideoButton_lrohk_244",i={modal:re,closeButton:le,wrapInfo:de,imageContainer:_e,mainImage:me,buttonHeart:ue,iconHeart:he,gallery:ge,galleryItem:ve,galleryImage:xe,videoContainer:ke,galleryVideo:pe,playButton:je,containerDescription:Ce,titleDes:ye,productDetails:Ie,productInfo:Ne,addBasket:be,priceInfo:fe,videoModal:Fe,videoModalContent:He,modalVideo:Me,closeVideoButton:Be},De=({onClose:r,data:s})=>{const[c,d]=x.useState(s.mainImage),[l,o]=x.useState(null),u=()=>o(null),{isFavorite:_,addFavoriteList:a,removeFavoriteList:n}=L(),m=()=>{_(s.id)?n(s.id):a(s.id)};return e.jsxs("div",{className:i.modal,children:[e.jsx("button",{className:i.closeButton,onClick:r,children:"Вернутись назад"}),e.jsxs("div",{className:i.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:i.imageContainer,children:[e.jsx("img",{className:i.mainImage,src:c,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${i.buttonHeart}`,iconHeart:i.iconHeart,isFavorite:_(s.id),onClick:m}),e.jsx("ul",{className:i.gallery,children:s.gallery.map((t,g)=>e.jsx("li",{className:i.galleryItem,children:t.type==="image"?e.jsx("img",{className:i.galleryImage,src:t.url,alt:t.description||`Зображення ${g+1}`,onClick:()=>d(t.url)}):t.type==="video"?e.jsxs("div",{className:i.videoContainer,children:[e.jsxs("video",{className:i.galleryVideo,controls:!1,children:[e.jsx("source",{src:t.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.playButton,onClick:()=>o(t.url),children:"▶ Play"})]}):null},g))})]}),e.jsx("button",{className:i.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:i.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[s.price,": грн"]})]})]}),e.jsxs("div",{className:i.containerDescription,children:[e.jsxs("h1",{className:i.titleDes,children:[s.title," ",e.jsx("span",{children:s.country})]}),e.jsxs("ul",{className:i.productDetails,children:[e.jsxs("li",{children:[s.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:i.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),l&&e.jsx("div",{className:i.videoModal,onClick:u,children:e.jsxs("div",{className:i.videoModalContent,onClick:t=>t.stopPropagation(),children:[e.jsxs("video",{className:i.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:l,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.closeVideoButton,onClick:u,children:"✖"})]})})]})},Le="_container_15ya4_1",$e="_pagination_15ya4_11",we="_paginationItem_15ya4_15",Ve="_paginationLink_15ya4_30",Ae="_isActive_15ya4_33",Pe="_prevContainer_15ya4_36",Se="_prev_15ya4_36",ze="_next_15ya4_40",h={container:Le,pagination:$e,paginationItem:we,paginationLink:Ve,isActive:Ae,prevContainer:Pe,prev:Se,next:ze},Te=({totalCards:r,cardsPerPage:s,currentPage:c,setCurrentPage:d})=>{const l=E({maxWidth:833}),o=Math.ceil(r/s),u=l?4:12;let _=Math.max(1,c-Math.floor(u/2)),a=_+u-1;a>o&&(a=o,_=Math.max(1,a-u+1));const n=Array.from({length:a-_+1},(t,g)=>_+g),m=t=>{t>=1&&t<=o&&d(t)};return e.jsxs("section",{className:h.container,children:[!l&&e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>m(c-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>m(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>m(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:n.map(t=>e.jsx("li",{className:`${h.paginationItem} ${c===t?h.isActive:""}`,onClick:()=>m(t),children:e.jsx("a",{href:"#",className:h.paginationLink,children:t})},t))}),a<o&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>m(a+1),children:"..."}),e.jsx("button",{className:h.next,disabled:c===o,onClick:()=>m(o),children:o})]}),!l&&e.jsx("button",{className:h.next,disabled:c===o,onClick:()=>m(c+1),children:"-->"})]})},Ee=r=>{const s=B(),c=k(Q),d=k(R),l=k(W),o=k(q),u=x.useMemo(()=>Array.isArray(r)?r.filter(({title:a,description:n,country:m,category:t,material:g})=>{const p=c.toLowerCase();return[a,n,m,t,g].some(j=>j.toLowerCase().includes(p))&&(!l||t===l)&&(!d||g===d)}):[],[r,c,l,d]);return x.useEffect(()=>{if(d&&!l){const a=[...new Set(r.filter(n=>d===n.material).map(n=>n.category))];a.length>0&&s(O(a))}if(l&&!d){const a=[...new Set(r.filter(n=>l===n.category).map(n=>n.material))];a.length>0&&s(G(a))}},[r,l,d,s]),x.useMemo(()=>u.length?[...u].sort((a,n)=>{switch(o){case"newest":return new Date(n.createdAt)-new Date(a.createdAt);case"highPrice":return n.price-a.price;case"lowPrice":return a.price-n.price;default:return 0}}):[],[u,o])},Qe="_containerCards_1o6hd_1",Re={containerCards:Qe},qe=({data:r,isLoading:s,isError:c})=>{const[d,l]=x.useState(!1),[o,u]=x.useState(null),[_,a]=x.useState(1),[n]=x.useState(12),{isFavorite:m,addFavoriteList:t,removeFavoriteList:g}=L(),p=(C=null)=>{l(!d),u(C)},j=Ee(r),I=_*n,$=I-n,N=j.slice($,I);return e.jsx("section",{children:d?e.jsx(De,{onClose:p,data:o}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:Re.containerCards,children:[s&&e.jsx("div",{children:"...Loading"}),c&&e.jsx("div",{children:"...Error"}),!s&&!c&&N.map(({mainImage:C,country:b,id:y,price:f,title:F,description:H,gallery:w,category:V,material:A})=>e.jsx(ce,{id:y,image:C,country:b,price:f,title:F,description:H,addFavoriteList:t,removeFavoriteList:g,isFavorite:m(y),onClick:()=>p({mainImage:C,country:b,id:y,price:f,title:F,description:H,gallery:w,category:V,material:A})},y))]}),N.length>0?e.jsx(Te,{totalCards:j.length,cardsPerPage:n,currentPage:_,setCurrentPage:a}):null]})})};export{qe as C};
