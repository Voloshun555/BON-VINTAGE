import{j as e,I as P,c as B,a as j,n as S,o as T,p as E,r as v,u as Q,q as R,t as W,v as q,w as O,g as z,e as G}from"./index-5pmrO1L7.js";const J="_containerCard_5xsja_31",K="_containerImg_5xsja_49",U="_catalogImg_5xsja_52",X="_buttonHeart_5xsja_57",Y="_iconHeart_5xsja_62",Z="_item_5xsja_66",ee="_itemTitle_5xsja_73",te="_itemPrice_5xsja_80",se="_itemList_5xsja_86",ae="_btnBascket_5xsja_91",g={containerCard:J,containerImg:K,catalogImg:U,buttonHeart:X,iconHeart:Y,item:Z,itemTitle:ee,itemPrice:te,itemList:se,btnBascket:ae},oe="_iconHeart_4w7b3_1",ne="_buttonHeartActive_4w7b3_11",M={iconHeart:oe,buttonHeartActive:ne},D=({isFavorite:l,onClick:t,buttonHeart:r,iconHeart:d})=>e.jsx("button",{className:`${r} `,onClick:t,"aria-label":l?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{id:"icon-heart-favorite",className:`${d} ${M.iconHeart} ${l?M.buttonHeartActive:""}`})}),ie=({image:l,price:t,title:r,description:d,id:c,addFavoriteList:s,removeFavoriteList:m,isFavorite:_,onClick:a})=>{const n=()=>{_?m(c):s(c)};return e.jsxs("li",{className:g.containerCard,children:[e.jsxs("div",{className:g.containerImg,children:[e.jsx("img",{className:g.catalogImg,src:l,alt:r||"Зображення продукту",onClick:a}),e.jsx(D,{buttonHeart:`${g.buttonHeart}`,iconHeart:g.iconHeart,isFavorite:_,onClick:n})]}),e.jsxs("div",{className:g.item,children:[e.jsx("h3",{className:g.itemTitle,children:d}),e.jsxs("p",{className:g.itemPrice,children:[t," грн"]})]}),e.jsx("button",{className:g.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},L=()=>{const l=B(),t=j(S);return{addFavoriteList:s=>{l(T(s))},removeFavoriteList:s=>{l(E(s))},isFavorite:s=>t.includes(s)}},re="_modal_lrohk_32",le="_closeButton_lrohk_37",ce="_wrapInfo_lrohk_47",de="_imageContainer_lrohk_57",_e="_mainImage_lrohk_72",me="_buttonHeart_lrohk_83",ue="_iconHeart_lrohk_94",he="_gallery_lrohk_98",xe="_galleryItem_lrohk_121",ge="_galleryImage_lrohk_133",ve="_videoContainer_lrohk_139",je="_galleryVideo_lrohk_152",pe="_playButton_lrohk_158",Ce="_containerDescription_lrohk_174",ke="_titleDes_lrohk_182",ye="_productDetails_lrohk_189",Ie="_productInfo_lrohk_198",be="_addBasket_lrohk_206",Ne="_priceInfo_lrohk_217",fe="_videoModal_lrohk_222",Fe="_videoModalContent_lrohk_234",He="_modalVideo_lrohk_239",Me="_closeVideoButton_lrohk_244",i={modal:re,closeButton:le,wrapInfo:ce,imageContainer:de,mainImage:_e,buttonHeart:me,iconHeart:ue,gallery:he,galleryItem:xe,galleryImage:ge,videoContainer:ve,galleryVideo:je,playButton:pe,containerDescription:Ce,titleDes:ke,productDetails:ye,productInfo:Ie,addBasket:be,priceInfo:Ne,videoModal:fe,videoModalContent:Fe,modalVideo:He,closeVideoButton:Me},Be=({onClose:l,data:t})=>{const[r,d]=v.useState(t.mainImage),[c,s]=v.useState(null),m=()=>s(null),{isFavorite:_,addFavoriteList:a,removeFavoriteList:n}=L(),u=()=>{_(t.id)?n(t.id):a(t.id)};return e.jsxs("div",{className:i.modal,children:[e.jsx("button",{className:i.closeButton,onClick:l,children:"Вернутись назад"}),e.jsxs("div",{className:i.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:i.imageContainer,children:[e.jsx("img",{className:i.mainImage,src:r,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${i.buttonHeart}`,iconHeart:i.iconHeart,isFavorite:_(t.id),onClick:u}),e.jsx("ul",{className:i.gallery,children:t.gallery.map((o,x)=>e.jsx("li",{className:i.galleryItem,children:o.type==="image"?e.jsx("img",{className:i.galleryImage,src:o.url,alt:o.description||`Зображення ${x+1}`,onClick:()=>d(o.url)}):o.type==="video"?e.jsxs("div",{className:i.videoContainer,children:[e.jsxs("video",{className:i.galleryVideo,controls:!1,children:[e.jsx("source",{src:o.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.playButton,onClick:()=>s(o.url),children:"▶ Play"})]}):null},x))})]}),e.jsx("button",{className:i.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:i.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[t.price,": грн"]})]})]}),e.jsxs("div",{className:i.containerDescription,children:[e.jsxs("h1",{className:i.titleDes,children:[t.title," ",e.jsx("span",{children:t.country})]}),e.jsxs("ul",{className:i.productDetails,children:[e.jsxs("li",{children:[t.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:i.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),c&&e.jsx("div",{className:i.videoModal,onClick:m,children:e.jsxs("div",{className:i.videoModalContent,onClick:o=>o.stopPropagation(),children:[e.jsxs("video",{className:i.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:c,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:i.closeVideoButton,onClick:m,children:"✖"})]})})]})},De="_container_15ya4_1",Le="_pagination_15ya4_11",we="_paginationItem_15ya4_15",Ve="_paginationLink_15ya4_30",$e="_isActive_15ya4_33",Ae="_prevContainer_15ya4_36",Pe="_prev_15ya4_36",Se="_next_15ya4_40",h={container:De,pagination:Le,paginationItem:we,paginationLink:Ve,isActive:$e,prevContainer:Ae,prev:Pe,next:Se},Te=({totalCards:l,cardsPerPage:t,currentPage:r,setCurrentPage:d})=>{const c=Q({maxWidth:833}),s=Math.ceil(l/t),m=c?4:12;let _=Math.max(1,r-Math.floor(m/2)),a=_+m-1;a>s&&(a=s,_=Math.max(1,a-m+1));const n=Array.from({length:a-_+1},(o,x)=>_+x),u=o=>{o>=1&&o<=s&&d(o)};return e.jsxs("section",{className:h.container,children:[!c&&e.jsx("button",{className:h.prev,disabled:r===1,onClick:()=>u(r-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:r===1,onClick:()=>u(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>u(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:n.map(o=>e.jsx("li",{className:`${h.paginationItem} ${r===o?h.isActive:""}`,onClick:()=>u(o),children:e.jsx("a",{href:"#",className:h.paginationLink,children:o})},o))}),a<s&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>u(a+1),children:"..."}),e.jsx("button",{className:h.next,disabled:r===s,onClick:()=>u(s),children:s})]}),!c&&e.jsx("button",{className:h.next,disabled:r===s,onClick:()=>u(r+1),children:"-->"})]})},Ee=l=>{const t=B(),r=j(R),d=j(W),c=j(q),s=j(O),m=v.useMemo(()=>Array.isArray(l)?l.filter(({title:a,description:n,country:u,category:o,material:x})=>{const p=r.toLowerCase();return[a,n,u,o,x].some(C=>C.toLowerCase().includes(p))&&(!c||o===c)&&(!d||x===d)}):[],[l,r,c,d]);return v.useEffect(()=>{if(d&&!c){const a=[...new Set(l.filter(n=>d===n.material).map(n=>n.category))];a.length>0&&t(z(a))}if(c&&!d){const a=[...new Set(l.filter(n=>c===n.category).map(n=>n.material))];a.length>0&&t(G(a))}},[l,c,d,t]),v.useMemo(()=>m.length?[...m].sort((a,n)=>{switch(s){case"newest":return new Date(n.createdAt)-new Date(a.createdAt);case"highPrice":return n.price-a.price;case"lowPrice":return a.price-n.price;default:return 0}}):[],[m,s])},Qe="_containerCards_1o6hd_1",Re={containerCards:Qe},qe=({data:l,isLoading:t,isError:r})=>{const[d,c]=v.useState(!1),[s,m]=v.useState(null),[_,a]=v.useState(1),[n]=v.useState(12),{isFavorite:u,addFavoriteList:o,removeFavoriteList:x}=L(),p=(k=null)=>{c(!d),m(k)},C=Ee(l),I=_*n,w=I-n,b=C.slice(w,I);return e.jsx("section",{children:d?e.jsx(Be,{onClose:p,data:s}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:Re.containerCards,children:[t&&e.jsx("div",{children:"...Loading"}),r&&e.jsx("div",{children:"...Error"}),!t&&!r&&b.map(({mainImage:k,country:N,id:y,price:f,title:F,description:H,gallery:V,category:$,material:A})=>e.jsx(ie,{id:y,image:k,country:N,price:f,title:F,description:H,addFavoriteList:o,removeFavoriteList:x,isFavorite:u(y),onClick:()=>p({mainImage:k,country:N,id:y,price:f,title:F,description:H,gallery:V,category:$,material:A})},y))]}),b.length>0?e.jsx(Te,{totalCards:C.length,cardsPerPage:n,currentPage:_,setCurrentPage:a}):null]})})};export{qe as C};
