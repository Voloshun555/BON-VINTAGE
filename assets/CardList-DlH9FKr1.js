import{j as e,I as P,r as p,d as B,b as g,p as S,q as T,t as E,u as Q,v as R,w as W,x as q,y as O,h as z,f as G}from"./index-8FRvW1ib.js";const J="_containerCard_1evje_31",K="_containerImg_1evje_49",U="_catalogImg_1evje_52",X="_buttonHeart_1evje_57",Y="_iconHeart_1evje_64",Z="_item_1evje_68",ee="_itemTitle_1evje_82",te="_itemPrice_1evje_94",se="_itemList_1evje_100",ae="_btnBascket_1evje_105",ne="_active_1evje_117",v={containerCard:J,containerImg:K,catalogImg:U,buttonHeart:X,iconHeart:Y,item:Z,itemTitle:ee,itemPrice:te,itemList:se,btnBascket:ae,active:ne},oe="_iconHeart_1e911_1",ie="_buttonHeartActive_1e911_11",M={iconHeart:oe,buttonHeartActive:ie},D=({isFavorite:r,onClick:a,buttonHeart:c,iconHeart:d})=>e.jsx("button",{className:`${c} `,onClick:a,"aria-label":r?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(P,{id:"icon-heart-favorite",className:`${d} ${M.iconHeart} ${r?M.buttonHeartActive:""}`})}),ce=({image:r,price:a,title:c,description:d,id:l,addFavoriteList:n,removeFavoriteList:u,isFavorite:_,onClick:o})=>{const[i,m]=p.useState(!1),s=()=>{m(!i)},j=()=>{_?u(l):n(l)};return e.jsxs("li",{className:v.containerCard,children:[e.jsxs("div",{className:v.containerImg,children:[e.jsx("img",{className:v.catalogImg,src:r,alt:c||"Зображення продукту",onClick:o}),e.jsx(D,{buttonHeart:`${v.buttonHeart}`,iconHeart:v.iconHeart,isFavorite:_,onClick:j})]}),e.jsxs("div",{className:v.item,children:[e.jsx("h3",{className:v.itemTitle,children:d}),e.jsxs("p",{className:v.itemPrice,children:[a," грн"]})]}),e.jsx("button",{className:`${v.btnBascket} ${i?v.active:""}`,"aria-label":"Додати до кошика",onClick:s,children:"додати до кошику"})]})},L=()=>{const r=B(),a=g(S);return{addFavoriteList:n=>{r(T(n))},removeFavoriteList:n=>{r(E(n))},isFavorite:n=>a.includes(n)}},re="_modal_1tjhu_32",le="_closeButton_1tjhu_37",de="_wrapInfo_1tjhu_47",_e="_imageContainer_1tjhu_57",me="_mainImage_1tjhu_72",ue="_buttonHeart_1tjhu_83",he="_iconHeart_1tjhu_94",je="_gallery_1tjhu_98",ve="_galleryItem_1tjhu_121",pe="_galleryImage_1tjhu_133",ge="_videoContainer_1tjhu_139",xe="_galleryVideo_1tjhu_152",Ce="_playButton_1tjhu_158",Ie="_containerDescription_1tjhu_174",ye="_titleDes_1tjhu_182",Ne="_productDetails_1tjhu_189",fe="_productInfoItem_1tjhu_195",be="_productInfo_1tjhu_195",ke="_addBasket_1tjhu_209",Fe="_priceInfo_1tjhu_220",He="_price_1tjhu_220",Me="_videoModal_1tjhu_231",Be="_videoModalContent_1tjhu_243",De="_modalVideo_1tjhu_248",Le="_closeVideoButton_1tjhu_253",t={modal:re,closeButton:le,wrapInfo:de,imageContainer:_e,mainImage:me,buttonHeart:ue,iconHeart:he,gallery:je,galleryItem:ve,galleryImage:pe,videoContainer:ge,galleryVideo:xe,playButton:Ce,containerDescription:Ie,titleDes:ye,productDetails:Ne,productInfoItem:fe,productInfo:be,addBasket:ke,priceInfo:Fe,price:He,videoModal:Me,videoModalContent:Be,modalVideo:De,closeVideoButton:Le},$e=({onClose:r,data:a})=>{const[c,d]=p.useState(a.mainImage),[l,n]=p.useState(null),u=()=>n(null),{isFavorite:_,addFavoriteList:o,removeFavoriteList:i}=L(),m=()=>{_(a.id)?i(a.id):o(a.id)};return e.jsxs("div",{className:t.modal,children:[e.jsx("button",{className:t.closeButton,onClick:r,children:"Вернутись назад"}),e.jsxs("div",{className:t.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:t.imageContainer,children:[e.jsx("img",{className:t.mainImage,src:c,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${t.buttonHeart}`,iconHeart:t.iconHeart,isFavorite:_(a.id),onClick:m}),e.jsx("ul",{className:t.gallery,children:a.gallery.map((s,j)=>e.jsx("li",{className:t.galleryItem,children:s.type==="image"?e.jsx("img",{className:t.galleryImage,src:s.url,alt:s.description||`Зображення ${j+1}`,onClick:()=>d(s.url)}):s.type==="video"?e.jsxs("div",{className:t.videoContainer,children:[e.jsxs("video",{className:t.galleryVideo,controls:!1,children:[e.jsx("source",{src:s.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.playButton,onClick:()=>n(s.url),children:"▶ Play"})]}):null},j))})]}),e.jsx("button",{className:t.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:t.priceInfo,children:[e.jsx("li",{className:t.price,children:"€ 222"}),e.jsxs("li",{className:t.price,children:[a.price,": грн"]})]})]}),e.jsxs("div",{className:t.containerDescription,children:[e.jsxs("h1",{className:t.titleDes,children:[a.title," ",e.jsx("span",{children:a.country})]}),e.jsxs("ul",{className:t.productDetails,children:[e.jsxs("li",{className:t.productInfoItem,children:[a.category,", деколь, метал"]}),e.jsx("li",{className:t.productInfoItem,children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{className:t.productInfoItem,children:"Діаметр 6 см"}),e.jsx("li",{className:t.productInfoItem,children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:t.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),l&&e.jsx("div",{className:t.videoModal,onClick:u,children:e.jsxs("div",{className:t.videoModalContent,onClick:s=>s.stopPropagation(),children:[e.jsxs("video",{className:t.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:l,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.closeVideoButton,onClick:u,children:"✖"})]})})]})},we="_container_15ya4_1",Ve="_pagination_15ya4_11",Ae="_paginationItem_15ya4_15",Pe="_paginationLink_15ya4_30",Se="_isActive_15ya4_33",Te="_prevContainer_15ya4_36",Ee="_prev_15ya4_36",Qe="_next_15ya4_40",h={container:we,pagination:Ve,paginationItem:Ae,paginationLink:Pe,isActive:Se,prevContainer:Te,prev:Ee,next:Qe},Re=({totalCards:r,cardsPerPage:a,currentPage:c,setCurrentPage:d})=>{const l=Q({maxWidth:833}),n=Math.ceil(r/a),u=l?4:12;let _=Math.max(1,c-Math.floor(u/2)),o=_+u-1;o>n&&(o=n,_=Math.max(1,o-u+1));const i=Array.from({length:o-_+1},(s,j)=>_+j),m=s=>{s>=1&&s<=n&&d(s)};return e.jsxs("section",{className:h.container,children:[!l&&e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>m(c-1),children:"<--"}),_>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:c===1,onClick:()=>m(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>m(_-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:i.map(s=>e.jsx("li",{className:`${h.paginationItem} ${c===s?h.isActive:""}`,onClick:()=>m(s),children:e.jsx("a",{href:"#",className:h.paginationLink,children:s})},s))}),o<n&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>m(o+1),children:"..."}),e.jsx("button",{className:h.next,disabled:c===n,onClick:()=>m(n),children:n})]}),!l&&e.jsx("button",{className:h.next,disabled:c===n,onClick:()=>m(c+1),children:"-->"})]})},We=r=>{const a=B(),c=g(R),d=g(W),l=g(q),n=g(O),u=p.useMemo(()=>Array.isArray(r)?r.filter(({title:o,description:i,country:m,category:s,material:j})=>{const x=c.toLowerCase();return[o,i,m,s,j].some(C=>C.toLowerCase().includes(x))&&(!l||s===l)&&(!d||j===d)}):[],[r,c,l,d]);return p.useEffect(()=>{if(d&&!l){const o=[...new Set(r.filter(i=>d===i.material).map(i=>i.category))];o.length>0&&a(z(o))}if(l&&!d){const o=[...new Set(r.filter(i=>l===i.category).map(i=>i.material))];o.length>0&&a(G(o))}},[r,l,d,a]),p.useMemo(()=>u.length?[...u].sort((o,i)=>{switch(n){case"newest":return new Date(i.createdAt)-new Date(o.createdAt);case"highPrice":return i.price-o.price;case"lowPrice":return o.price-i.price;default:return 0}}):[],[u,n])},qe="_containerCards_1o6hd_1",Oe={containerCards:qe},Ge=({data:r,isLoading:a,isError:c})=>{const[d,l]=p.useState(!1),[n,u]=p.useState(null),[_,o]=p.useState(1),[i]=p.useState(12),{isFavorite:m,addFavoriteList:s,removeFavoriteList:j}=L(),x=(I=null)=>{l(!d),u(I)},C=We(r),N=_*i,$=N-i,f=C.slice($,N);return e.jsx("section",{children:d?e.jsx($e,{onClose:x,data:n}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:Oe.containerCards,children:[a&&e.jsx("div",{children:"...Loading"}),c&&e.jsx("div",{children:"...Error"}),!a&&!c&&f.map(({mainImage:I,country:b,id:y,price:k,title:F,description:H,gallery:w,category:V,material:A})=>e.jsx(ce,{id:y,image:I,country:b,price:k,title:F,description:H,addFavoriteList:s,removeFavoriteList:j,isFavorite:m(y),onClick:()=>x({mainImage:I,country:b,id:y,price:k,title:F,description:H,gallery:w,category:V,material:A})},y))]}),f.length>0?e.jsx(Re,{totalCards:C.length,cardsPerPage:i,currentPage:_,setCurrentPage:o}):null]})})};export{Ge as C};
