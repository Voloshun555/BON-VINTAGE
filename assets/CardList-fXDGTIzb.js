import{j as e,C as R,a as O,i as C,k as W,l as q,r as v}from"./index-0cyvPql1.js";const z="_containerCard_7n4hw_1",G="_containerImg_7n4hw_13",J="_catalogImg_7n4hw_16",K="_buttonHeart_7n4hw_21",U="_iconHeart_7n4hw_26",X="_item_7n4hw_31",Y="_itemTitle_7n4hw_38",Z="_itemPrice_7n4hw_42",ee="_itemList_7n4hw_46",te="_btnBascket_7n4hw_51",x={containerCard:z,containerImg:G,catalogImg:J,buttonHeart:K,iconHeart:U,item:X,itemTitle:Y,itemPrice:Z,itemList:ee,btnBascket:te},se="_buttonHeartActive_182pk_1",ne="_iconHeart_182pk_5",$={buttonHeartActive:se,iconHeart:ne},V=({isFavorite:t,onClick:n,buttonHeart:a,iconHeart:h})=>e.jsx("button",{className:`${a} `,onClick:n,"aria-label":t?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(R,{className:`${h} ${$.iconHeart} ${t?$.buttonHeartActive:""}`})}),ae=({image:t,price:n,title:a,description:h,id:i,addFavoriteList:o,removeFavoriteList:d,isFavorite:r,onClick:p})=>{const l=()=>{r?d(i):o(i)};return e.jsxs("li",{className:x.containerCard,children:[e.jsxs("div",{className:x.containerImg,children:[e.jsx("img",{className:x.catalogImg,src:t,alt:a||"Зображення продукту",onClick:p}),e.jsx(V,{buttonHeart:`${x.buttonHeart}`,iconHeart:x.iconHeart,isFavorite:r,onClick:l})]}),e.jsxs("div",{className:x.item,children:[e.jsx("h3",{className:x.itemTitle,children:h}),e.jsxs("p",{className:x.itemPrice,children:["Ціна: ",n]})]}),e.jsx("button",{className:x.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},P=()=>{const t=O(),n=C(o=>o.favorite.favoriteList);return{addFavoriteList:o=>{t(W(o))},removeFavoriteList:o=>{t(q(o))},isFavorite:o=>n.includes(o)}},oe="_modal_1uxah_1",ie="_closeButton_1uxah_1",ce="_wrapInfo_1uxah_8",re="_imageContainer_1uxah_18",le="_mainImage_1uxah_33",de="_buttonHeart_1uxah_39",_e="_iconHeart_1uxah_44",me="_gallery_1uxah_49",ue="_galleryItem_1uxah_66",he="_galleryImage_1uxah_72",xe="_videoContainer_1uxah_78",ge="_galleryVideo_1uxah_85",ve="_playButton_1uxah_91",pe="_containerDescription_1uxah_107",je="_titleDes_1uxah_110",Ce="_productDetails_1uxah_113",ye="_productInfo_1uxah_119",Ne="_addBasket_1uxah_124",Ie="_priceInfo_1uxah_132",be="_videoModal_1uxah_137",ke="_videoModalContent_1uxah_149",fe="_modalVideo_1uxah_154",He="_closeVideoButton_1uxah_159",s={modal:oe,closeButton:ie,wrapInfo:ce,imageContainer:re,mainImage:le,buttonHeart:de,iconHeart:_e,gallery:me,galleryItem:ue,galleryImage:he,videoContainer:xe,galleryVideo:ge,playButton:ve,containerDescription:pe,titleDes:je,productDetails:Ce,productInfo:ye,addBasket:Ne,priceInfo:Ie,videoModal:be,videoModalContent:ke,modalVideo:fe,closeVideoButton:He},Fe=({onClose:t,data:n})=>{const[a,h]=v.useState(n.mainImage),[i,o]=v.useState(null),d=()=>o(null),{isFavorite:r,addFavoriteList:p,removeFavoriteList:l}=P(),_=()=>{r(n.id)?l(n.id):p(n.id)};return e.jsxs("div",{className:s.modal,children:[e.jsx("button",{className:s.closeButton,onClick:t,children:"Вернутись назад"}),e.jsxs("div",{className:s.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:s.imageContainer,children:[e.jsx("img",{className:s.mainImage,src:a,alt:"Головне зображення"}),e.jsx(V,{buttonHeart:`${s.buttonHeart}`,iconHeart:s.iconHeart,isFavorite:r(n.id),onClick:_}),e.jsx("ul",{className:s.gallery,children:n.gallery.map((m,y)=>e.jsx("li",{className:s.galleryItem,children:m.type==="image"?e.jsx("img",{className:s.galleryImage,src:m.url,alt:m.description||`Зображення ${y+1}`,onClick:()=>h(m.url)}):m.type==="video"?e.jsxs("div",{className:s.videoContainer,children:[e.jsxs("video",{className:s.galleryVideo,controls:!1,children:[e.jsx("source",{src:m.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:s.playButton,onClick:()=>o(m.url),children:"▶ Play"})]}):null},y))})]}),e.jsx("button",{className:s.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:s.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[n.price,": грн"]})]})]}),e.jsxs("div",{className:s.containerDescription,children:[e.jsxs("h1",{className:s.titleDes,children:[n.title," ",e.jsx("span",{children:n.country})]}),e.jsxs("ul",{className:s.productDetails,children:[e.jsxs("li",{children:[n.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:s.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),i&&e.jsx("div",{className:s.videoModal,onClick:d,children:e.jsxs("div",{className:s.videoModalContent,onClick:m=>m.stopPropagation(),children:[e.jsxs("video",{className:s.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:i,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:s.closeVideoButton,onClick:d,children:"✖"})]})})]})},we="_container_14yjm_1",Be="_pagination_14yjm_6",Me="_paginationItem_14yjm_10",Le="_paginationLink_14yjm_25",De="_isActive_14yjm_28",$e="_prevContainer_14yjm_31",Ae="_prev_14yjm_31",Ve="_next_14yjm_35",u={container:we,pagination:Be,paginationItem:Me,paginationLink:Le,isActive:De,prevContainer:$e,prev:Ae,next:Ve},Pe=({totalCards:t,cardsPerPage:n,currentPage:a,setCurrentPage:h})=>{const i=Math.ceil(t/n),o=12;let d=Math.max(1,a-Math.floor(o/2)),r=d+o-1;r>i&&(r=i,d=Math.max(1,r-o+1));const p=Array.from({length:r-d+1},(_,m)=>d+m),l=_=>{_>=1&&_<=i&&h(_)};return e.jsxs("section",{className:u.container,children:[e.jsx("button",{className:u.prev,disabled:a===1,onClick:()=>l(a-1),children:"<--"}),d>2&&e.jsxs("div",{className:u.prevContainer,children:[e.jsx("button",{className:u.prev,disabled:a===1,onClick:()=>l(1),children:"1"}),e.jsx("button",{className:u.prev,onClick:()=>l(d-1),children:"..."})]}),e.jsx("ul",{className:u.pagination,children:p.map(_=>e.jsx("li",{className:`${u.paginationItem} ${a===_?u.isActive:""}`,onClick:()=>l(_),children:e.jsx("a",{href:"#",className:u.paginationLink,children:_})},_))}),r<i&&e.jsxs("div",{className:u.prevContainer,children:[e.jsx("button",{className:u.next,onClick:()=>l(r+1),children:"..."}),e.jsx("button",{className:u.next,disabled:a===i,onClick:()=>l(i),children:i})]}),e.jsx("button",{className:u.next,disabled:a===i,onClick:()=>l(a+1),children:"-->"})]})},Se=t=>t.options.selectedFilter,Te=t=>t.options.selectedCategory,Ee=t=>t.options.sortType,Qe=t=>t.filter.searchQuery,Re="_containerCards_19p8f_1",Oe="_container_19p8f_1",A={containerCards:Re,container:Oe},qe=({data:t,isLoading:n,isError:a})=>{const[h,i]=v.useState(!1),[o,d]=v.useState(null),[r,p]=v.useState(1),[l]=v.useState(12),{isFavorite:_,addFavoriteList:m,removeFavoriteList:y}=P(),F=C(Qe),f=C(Se),H=C(Te),w=C(Ee),B=(c=null)=>{i(!h),d(c)},N=v.useMemo(()=>Array.isArray(t)?t.filter(c=>{const g=F.toLowerCase(),j=[c.title,c.description,c.country,c.category,c.material].some(k=>k.toLowerCase().includes(g)),I=H?c.category===H:!0,b=f?c.material===f:!0;return j&&I&&b}):[],[t,F,H,f]),M=v.useMemo(()=>!N||!Array.isArray(N)?[]:[...N].sort((c,g)=>{switch(w){case"newest":return new Date(g.createdAt)-new Date(c.createdAt);case"highPrice":return g.price-c.price;case"lowPrice":return c.price-g.price;default:return 0}}),[N,w]),L=r*l,S=L-l,D=M.slice(S,L);return e.jsx("div",{className:A.container,children:h?e.jsx(Fe,{onClose:B,data:o}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:A.containerCards,children:[n&&e.jsx("div",{children:"...Loading"}),a&&e.jsx("div",{children:"...Error"}),!n&&!a&&D.map(({mainImage:c,country:g,id:j,price:I,title:b,description:k,gallery:T,category:E,material:Q})=>e.jsx(ae,{id:j,image:c,country:g,price:I,title:b,description:k,addFavoriteList:m,removeFavoriteList:y,isFavorite:_(j),onClick:()=>B({mainImage:c,country:g,id:j,price:I,title:b,description:k,gallery:T,category:E,material:Q})},j))]}),D.length>0?e.jsx(Pe,{totalCards:M.length,cardsPerPage:l,currentPage:r,setCurrentPage:p}):null]})})};export{qe as C};
