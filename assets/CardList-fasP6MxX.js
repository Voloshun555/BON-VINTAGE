import{j as e,C as S,c as B,a as v,p as T,q as E,t as R,r as g,v as q,w as O,x as Q,y as W,g as z,e as G}from"./index-hS72ZUFj.js";const J="_containerCard_7n4hw_1",K="_containerImg_7n4hw_13",U="_catalogImg_7n4hw_16",X="_buttonHeart_7n4hw_21",Y="_iconHeart_7n4hw_26",Z="_item_7n4hw_31",ee="_itemTitle_7n4hw_38",te="_itemPrice_7n4hw_42",se="_itemList_7n4hw_46",ae="_btnBascket_7n4hw_51",x={containerCard:J,containerImg:K,catalogImg:U,buttonHeart:X,iconHeart:Y,item:Z,itemTitle:ee,itemPrice:te,itemList:se,btnBascket:ae},ne="_buttonHeartActive_182pk_1",oe="_iconHeart_182pk_5",w={buttonHeartActive:ne,iconHeart:oe},D=({isFavorite:i,onClick:s,buttonHeart:o,iconHeart:c})=>e.jsx("button",{className:`${o} `,onClick:s,"aria-label":i?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(S,{className:`${c} ${w.iconHeart} ${i?w.buttonHeartActive:""}`})}),ie=({image:i,price:s,title:o,description:c,id:a,addFavoriteList:r,removeFavoriteList:d,isFavorite:m,onClick:l})=>{const t=()=>{m?d(a):r(a)};return e.jsxs("li",{className:x.containerCard,children:[e.jsxs("div",{className:x.containerImg,children:[e.jsx("img",{className:x.catalogImg,src:i,alt:o||"Зображення продукту",onClick:l}),e.jsx(D,{buttonHeart:`${x.buttonHeart}`,iconHeart:x.iconHeart,isFavorite:m,onClick:t})]}),e.jsxs("div",{className:x.item,children:[e.jsx("h3",{className:x.itemTitle,children:c}),e.jsxs("p",{className:x.itemPrice,children:["Ціна: ",s]})]}),e.jsx("button",{className:x.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},L=()=>{const i=B(),s=v(T);return{addFavoriteList:r=>{i(E(r))},removeFavoriteList:r=>{i(R(r))},isFavorite:r=>s.includes(r)}},ce="_modal_1uxah_1",re="_closeButton_1uxah_1",le="_wrapInfo_1uxah_8",de="_imageContainer_1uxah_18",me="_mainImage_1uxah_33",_e="_buttonHeart_1uxah_39",ue="_iconHeart_1uxah_44",he="_gallery_1uxah_49",xe="_galleryItem_1uxah_66",ge="_galleryImage_1uxah_72",pe="_videoContainer_1uxah_78",ve="_galleryVideo_1uxah_85",je="_playButton_1uxah_91",Ce="_containerDescription_1uxah_107",ye="_titleDes_1uxah_110",Ne="_productDetails_1uxah_113",Ie="_productInfo_1uxah_119",be="_addBasket_1uxah_124",fe="_priceInfo_1uxah_132",ke="_videoModal_1uxah_137",He="_videoModalContent_1uxah_149",Fe="_modalVideo_1uxah_154",we="_closeVideoButton_1uxah_159",n={modal:ce,closeButton:re,wrapInfo:le,imageContainer:de,mainImage:me,buttonHeart:_e,iconHeart:ue,gallery:he,galleryItem:xe,galleryImage:ge,videoContainer:pe,galleryVideo:ve,playButton:je,containerDescription:Ce,titleDes:ye,productDetails:Ne,productInfo:Ie,addBasket:be,priceInfo:fe,videoModal:ke,videoModalContent:He,modalVideo:Fe,closeVideoButton:we},Me=({onClose:i,data:s})=>{const[o,c]=g.useState(s.mainImage),[a,r]=g.useState(null),d=()=>r(null),{isFavorite:m,addFavoriteList:l,removeFavoriteList:t}=L(),u=()=>{m(s.id)?t(s.id):l(s.id)};return e.jsxs("div",{className:n.modal,children:[e.jsx("button",{className:n.closeButton,onClick:i,children:"Вернутись назад"}),e.jsxs("div",{className:n.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:n.imageContainer,children:[e.jsx("img",{className:n.mainImage,src:o,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${n.buttonHeart}`,iconHeart:n.iconHeart,isFavorite:m(s.id),onClick:u}),e.jsx("ul",{className:n.gallery,children:s.gallery.map((_,p)=>e.jsx("li",{className:n.galleryItem,children:_.type==="image"?e.jsx("img",{className:n.galleryImage,src:_.url,alt:_.description||`Зображення ${p+1}`,onClick:()=>c(_.url)}):_.type==="video"?e.jsxs("div",{className:n.videoContainer,children:[e.jsxs("video",{className:n.galleryVideo,controls:!1,children:[e.jsx("source",{src:_.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.playButton,onClick:()=>r(_.url),children:"▶ Play"})]}):null},p))})]}),e.jsx("button",{className:n.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:n.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[s.price,": грн"]})]})]}),e.jsxs("div",{className:n.containerDescription,children:[e.jsxs("h1",{className:n.titleDes,children:[s.title," ",e.jsx("span",{children:s.country})]}),e.jsxs("ul",{className:n.productDetails,children:[e.jsxs("li",{children:[s.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:n.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),a&&e.jsx("div",{className:n.videoModal,onClick:d,children:e.jsxs("div",{className:n.videoModalContent,onClick:_=>_.stopPropagation(),children:[e.jsxs("video",{className:n.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:a,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:n.closeVideoButton,onClick:d,children:"✖"})]})})]})},Be="_container_14yjm_1",De="_pagination_14yjm_6",Le="_paginationItem_14yjm_10",$e="_paginationLink_14yjm_25",Ve="_isActive_14yjm_28",Ae="_prevContainer_14yjm_31",Pe="_prev_14yjm_31",Se="_next_14yjm_35",h={container:Be,pagination:De,paginationItem:Le,paginationLink:$e,isActive:Ve,prevContainer:Ae,prev:Pe,next:Se},Te=({totalCards:i,cardsPerPage:s,currentPage:o,setCurrentPage:c})=>{const a=Math.ceil(i/s),r=12;let d=Math.max(1,o-Math.floor(r/2)),m=d+r-1;m>a&&(m=a,d=Math.max(1,m-r+1));const l=Array.from({length:m-d+1},(u,_)=>d+_),t=u=>{u>=1&&u<=a&&c(u)};return e.jsxs("section",{className:h.container,children:[e.jsx("button",{className:h.prev,disabled:o===1,onClick:()=>t(o-1),children:"<--"}),d>2&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.prev,disabled:o===1,onClick:()=>t(1),children:"1"}),e.jsx("button",{className:h.prev,onClick:()=>t(d-1),children:"..."})]}),e.jsx("ul",{className:h.pagination,children:l.map(u=>e.jsx("li",{className:`${h.paginationItem} ${o===u?h.isActive:""}`,onClick:()=>t(u),children:e.jsx("a",{href:"#",className:h.paginationLink,children:u})},u))}),m<a&&e.jsxs("div",{className:h.prevContainer,children:[e.jsx("button",{className:h.next,onClick:()=>t(m+1),children:"..."}),e.jsx("button",{className:h.next,disabled:o===a,onClick:()=>t(a),children:a})]}),e.jsx("button",{className:h.next,disabled:o===a,onClick:()=>t(o+1),children:"-->"})]})},Ee=i=>{const s=B(),o=v(q),c=v(O),a=v(Q),r=v(W),d=g.useMemo(()=>Array.isArray(i)?i.filter(({title:l,description:t,country:u,category:_,material:p})=>{const j=o.toLowerCase();return[l,t,u,_,p].some(C=>C.toLowerCase().includes(j))&&(!a||_===a)&&(!c||p===c)}):[],[i,o,a,c]);return g.useEffect(()=>{if(c&&!a){const l=[...new Set(i.filter(t=>c===t.material).map(t=>t.category))];l.length>0&&s(z(l))}if(a&&!c){const l=[...new Set(i.filter(t=>a===t.category).map(t=>t.material))];l.length>0&&s(G(l))}},[i,a,c,s]),g.useMemo(()=>d.length?[...d].sort((l,t)=>{switch(r){case"newest":return new Date(t.createdAt)-new Date(l.createdAt);case"highPrice":return t.price-l.price;case"lowPrice":return l.price-t.price;default:return 0}}):[],[d,r])},Re="_containerCards_19p8f_1",qe="_container_19p8f_1",M={containerCards:Re,container:qe},Qe=({data:i,isLoading:s,isError:o})=>{const[c,a]=g.useState(!1),[r,d]=g.useState(null),[m,l]=g.useState(1),[t]=g.useState(12),{isFavorite:u,addFavoriteList:_,removeFavoriteList:p}=L(),j=(y=null)=>{a(!c),d(y)},C=Ee(i),I=m*t,$=I-t,b=C.slice($,I);return e.jsx("div",{className:M.container,children:c?e.jsx(Me,{onClose:j,data:r}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:M.containerCards,children:[s&&e.jsx("div",{children:"...Loading"}),o&&e.jsx("div",{children:"...Error"}),!s&&!o&&b.map(({mainImage:y,country:f,id:N,price:k,title:H,description:F,gallery:V,category:A,material:P})=>e.jsx(ie,{id:N,image:y,country:f,price:k,title:H,description:F,addFavoriteList:_,removeFavoriteList:p,isFavorite:u(N),onClick:()=>j({mainImage:y,country:f,id:N,price:k,title:H,description:F,gallery:V,category:A,material:P})},N))]}),b.length>0?e.jsx(Te,{totalCards:C.length,cardsPerPage:t,currentPage:m,setCurrentPage:l}):null]})})};export{Qe as C};
