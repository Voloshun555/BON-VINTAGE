import{j as e,C as O,f as Q,e as F,g as W,h as q,r as j}from"./index-7AKgYX9S.js";const z="_containerCard_7n4hw_1",G="_containerImg_7n4hw_13",J="_catalogImg_7n4hw_16",K="_buttonHeart_7n4hw_21",U="_iconHeart_7n4hw_26",X="_item_7n4hw_31",Y="_itemTitle_7n4hw_38",Z="_itemPrice_7n4hw_42",ee="_itemList_7n4hw_46",te="_btnBascket_7n4hw_51",v={containerCard:z,containerImg:G,catalogImg:J,buttonHeart:K,iconHeart:U,item:X,itemTitle:Y,itemPrice:Z,itemList:ee,btnBascket:te},ne="_buttonHeartActive_182pk_1",se="_iconHeart_182pk_5",B={buttonHeartActive:ne,iconHeart:se},D=({isFavorite:r,onClick:n,buttonHeart:i,iconHeart:x})=>e.jsx("button",{className:`${i} `,onClick:n,"aria-label":r?"Видалити з улюбленого":"Додати до улюбленого",children:e.jsx(O,{className:`${x} ${B.iconHeart} ${r?B.buttonHeartActive:""}`})}),ae=({image:r,price:n,title:i,description:x,id:o,addFavoriteList:s,removeFavoriteList:c,isFavorite:l,onClick:g})=>{const _=()=>{l?c(o):s(o)};return e.jsxs("li",{className:v.containerCard,children:[e.jsxs("div",{className:v.containerImg,children:[e.jsx("img",{className:v.catalogImg,src:r,alt:i||"Зображення продукту",onClick:g}),e.jsx(D,{buttonHeart:`${v.buttonHeart}`,iconHeart:v.iconHeart,isFavorite:l,onClick:_})]}),e.jsxs("div",{className:v.item,children:[e.jsx("h3",{className:v.itemTitle,children:x}),e.jsxs("p",{className:v.itemPrice,children:["Ціна: ",n]})]}),e.jsx("button",{className:v.btnBascket,"aria-label":"Додати до кошика",children:"додати до кошику"})]})},$=()=>{const r=Q(),n=F(s=>s.favorite.favoriteList);return{addFavoriteList:s=>{r(W(s))},removeFavoriteList:s=>{r(q(s))},isFavorite:s=>n.includes(s)}},oe="_containerCards_nn35c_1",ie="_container_nn35c_1",M={containerCards:oe,container:ie},re="_modal_1uxah_1",ce="_closeButton_1uxah_1",le="_wrapInfo_1uxah_8",de="_imageContainer_1uxah_18",_e="_mainImage_1uxah_33",ue="_buttonHeart_1uxah_39",me="_iconHeart_1uxah_44",he="_gallery_1uxah_49",xe="_galleryItem_1uxah_66",ve="_galleryImage_1uxah_72",je="_videoContainer_1uxah_78",ge="_galleryVideo_1uxah_85",pe="_playButton_1uxah_91",Ce="_containerDescription_1uxah_107",ye="_titleDes_1uxah_110",Ne="_productDetails_1uxah_113",Ie="_productInfo_1uxah_119",be="_addBasket_1uxah_124",fe="_priceInfo_1uxah_132",ke="_videoModal_1uxah_137",He="_videoModalContent_1uxah_149",we="_modalVideo_1uxah_154",Le="_closeVideoButton_1uxah_159",t={modal:re,closeButton:ce,wrapInfo:le,imageContainer:de,mainImage:_e,buttonHeart:ue,iconHeart:me,gallery:he,galleryItem:xe,galleryImage:ve,videoContainer:je,galleryVideo:ge,playButton:pe,containerDescription:Ce,titleDes:ye,productDetails:Ne,productInfo:Ie,addBasket:be,priceInfo:fe,videoModal:ke,videoModalContent:He,modalVideo:we,closeVideoButton:Le},Be=({onClose:r,data:n})=>{const[i,x]=j.useState(n.mainImage),[o,s]=j.useState(null),c=()=>s(null),{isFavorite:l,addFavoriteList:g,removeFavoriteList:_}=$(),d=()=>{l(n.id)?_(n.id):g(n.id)};return e.jsxs("div",{className:t.modal,children:[e.jsx("button",{className:t.closeButton,onClick:r,children:"Вернутись назад"}),e.jsxs("div",{className:t.wrapInfo,children:[e.jsxs("div",{children:[e.jsxs("div",{className:t.imageContainer,children:[e.jsx("img",{className:t.mainImage,src:i,alt:"Головне зображення"}),e.jsx(D,{buttonHeart:`${t.buttonHeart}`,iconHeart:t.iconHeart,isFavorite:l(n.id),onClick:d}),e.jsx("ul",{className:t.gallery,children:n.gallery.map((u,p)=>e.jsx("li",{className:t.galleryItem,children:u.type==="image"?e.jsx("img",{className:t.galleryImage,src:u.url,alt:u.description||`Зображення ${p+1}`,onClick:()=>x(u.url)}):u.type==="video"?e.jsxs("div",{className:t.videoContainer,children:[e.jsxs("video",{className:t.galleryVideo,controls:!1,children:[e.jsx("source",{src:u.url.replace(".mp4",".webm"),type:"video/webm"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.playButton,onClick:()=>s(u.url),children:"▶ Play"})]}):null},p))})]}),e.jsx("button",{className:t.addBasket,children:"ДОДАТИ ДО КОШИКУ"}),e.jsxs("ul",{className:t.priceInfo,children:[e.jsx("li",{children:"€ 222"}),e.jsxs("li",{children:[n.price,": грн"]})]})]}),e.jsxs("div",{className:t.containerDescription,children:[e.jsxs("h1",{className:t.titleDes,children:[n.title," ",e.jsx("span",{children:n.country})]}),e.jsxs("ul",{className:t.productDetails,children:[e.jsxs("li",{children:[n.category,", деколь, метал"]}),e.jsx("li",{children:"Висота 8 см (10,5 см з кришкою) "}),e.jsx("li",{children:"Діаметр 6 см"}),e.jsx("li",{children:"У відмінному стані! Оригінальна упаковка"})]}),e.jsxs("ul",{className:t.productInfo,children:[e.jsx("li",{children:"Egg coddler від Royal Worcester - це традиційний британський предмет кухонного начиння, розроблений для зручного та вишуканого приготування яєць у водяній бані. Цей стиль посуду став популярним у 19 столітті і продовжує використовуватись досі. Egg coddler від Royal Worcester є не тільки корисним кухонним предметом та елегантним елементом сервірування столу, але й предметом колекціонування завдяки своїй якості та художній цінності."}),e.jsx("li",{children:"Наші товари є вінтажними, з історією та попереднім використанням. Можливі ознаки старіння, що характерні для класичного вінтажного стилю. Тим не менш, усі предмети залишаються в гарному стані та готовими до використання. Ми ретельно вказуємо стан кожного предмета в описі. Просимо вас уважно вивчити фотографії товарів, оскільки вони є важливою частиною опису та доповнюють його"}),e.jsx("li",{children:"Рекомендую ознайомитися з іншими нашими товарами, щоб зменшити витрати на доставку."}),e.jsx("li",{children:"Якщо у вас виникли запитання, не соромтеся звертатися до нас. Ми завжди готові допомогти!"})]})]})]}),o&&e.jsx("div",{className:t.videoModal,onClick:c,children:e.jsxs("div",{className:t.videoModalContent,onClick:u=>u.stopPropagation(),children:[e.jsxs("video",{className:t.modalVideo,controls:!0,autoPlay:!0,children:[e.jsx("source",{src:o,type:"video/mp4"}),"Ваш браузер не підтримує відео."]}),e.jsx("button",{className:t.closeVideoButton,onClick:c,children:"✖"})]})})]})},Me="_container_14yjm_1",Fe="_pagination_14yjm_6",De="_paginationItem_14yjm_10",$e="_paginationLink_14yjm_25",Ae="_isActive_14yjm_28",Ve="_prevContainer_14yjm_31",Pe="_prev_14yjm_31",Se="_next_14yjm_35",m={container:Me,pagination:Fe,paginationItem:De,paginationLink:$e,isActive:Ae,prevContainer:Ve,prev:Pe,next:Se},Ee=({totalCards:r,cardsPerPage:n,curentPage:i,setCurrentPage:x})=>{const o=Math.ceil(r/n),s=12;let c=Math.max(1,i-Math.floor(s/2)),l=c+s-1;l>o&&(l=o,c=Math.max(1,l-s+1));const g=Array.from({length:l-c+1},(d,u)=>c+u),_=d=>{d>=1&&d<=o&&x(d)};return e.jsxs("section",{className:m.container,children:[e.jsx("button",{className:m.prev,disabled:i===1,onClick:()=>_(i-1),children:"<--"}),c>2&&e.jsxs("div",{className:m.prevContainer,children:[e.jsx("button",{className:m.prev,disabled:i===1,onClick:()=>_(1),children:"1"}),e.jsx("button",{className:m.prev,onClick:()=>_(c-1),children:"..."})]}),e.jsx("ul",{className:m.pagination,children:g.map(d=>e.jsx("li",{className:`${m.paginationItem} ${i===d?m.isActive:""}`,onClick:()=>_(d),children:e.jsx("a",{href:"#",className:m.paginationLink,children:d})},d))}),l<o&&e.jsxs("div",{className:m.prevContainer,children:[e.jsx("button",{className:m.next,onClick:()=>_(l+1),children:"..."}),e.jsx("button",{className:m.next,disabled:i===o,onClick:()=>_(o),children:o})]}),e.jsx("button",{className:m.next,disabled:i===o,onClick:()=>_(i+1),children:"-->"})]})},Te=({data:r,isLoading:n,isError:i,sortType:x,selectedCategory:o,selectedFilter:s})=>{const[c,l]=j.useState(!1),[g,_]=j.useState(null),[d,u]=j.useState(1),[p]=j.useState(12),{isFavorite:A,addFavoriteList:V,removeFavoriteList:P}=$(),N=F(a=>a.filter.searchQuery),I=(a=null)=>{l(!c),_(a)},C=j.useMemo(()=>!r||!Array.isArray(r)?[]:r.filter(a=>{const h=N.toLowerCase();return a.title.toLowerCase().includes(h)||a.description.toLowerCase().includes(h)||a.country.toLowerCase().includes(h)||a.category.toLowerCase().includes(h)||a.material.toLowerCase().includes(h)}).filter(a=>o?a.category===o:!0).filter(a=>s?a.material===s:!0),[r,N,o,s]),b=j.useMemo(()=>!C||!Array.isArray(C)?[]:[...C].sort((a,h)=>{switch(x){case"newest":return new Date(h.createdAt)-new Date(a.createdAt);case"highPrice":return h.price-a.price;case"lowPrice":return a.price-h.price;default:return 0}}),[C,x]),f=d*p,S=f-p,k=b.slice(S,f);return e.jsx("section",{className:M.container,children:c?e.jsx(Be,{onClose:I,data:g}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:M.containerCards,children:[n&&e.jsx("div",{children:"...Loading"}),i&&e.jsx("div",{children:"...Error"}),!n&&!i&&k.map(({mainImage:a,country:h,id:y,price:H,title:w,description:L,gallery:E,category:R,material:T})=>e.jsx(ae,{id:y,image:a,country:h,price:H,title:w,description:L,addFavoriteList:V,removeFavoriteList:P,isFavorite:A(y),onClick:()=>I({mainImage:a,country:h,id:y,price:H,title:w,description:L,gallery:E,category:R,material:T})},y))]}),k.length>0?e.jsx(Ee,{totalCards:b.length,cardsPerPage:p,curentPage:d,setCurrentPage:u}):null]})})};export{Te as C};
